{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\osqel\\\\OneDrive\\\\Desktop\\\\New folder\\\\src\\\\components\\\\DrawingGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { templates } from '../data/drawingTemplates';\nimport { usePlayer } from '../context/PlayerContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GameContainer = styled(motion.div)`\n  min-height: 100vh;\n  width: 100%;\n  padding: 2rem;\n  background: linear-gradient(135deg, #fce4ec, #f3e5f5, #e3f2fd);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n_c = GameContainer;\nconst Title = styled.h1`\n  font-size: 2.5rem;\n  color: #6a1b9a;\n  margin-bottom: 2rem;\n  text-align: center;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n`;\n_c2 = Title;\nconst CanvasContainer = styled.div`\n  position: relative;\n  margin: 2rem 0;\n  border-radius: 1rem;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n  background: white;\n  padding: 1rem;\n`;\n_c3 = CanvasContainer;\nconst Canvas = styled.canvas`\n  border: 2px solid #e1bee7;\n  border-radius: 0.5rem;\n  cursor: crosshair;\n`;\n_c4 = Canvas;\nconst ReferenceImage = styled.img`\n  position: absolute;\n  top: 1rem;\n  right: -150px;\n  width: 120px;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  background: white;\n  padding: 0.5rem;\n\n  @media (max-width: 768px) {\n    position: static;\n    margin-bottom: 1rem;\n  }\n`;\n_c5 = ReferenceImage;\nconst ColorPalette = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin: 1rem 0;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n_c6 = ColorPalette;\nconst ColorButton = styled.button`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  border: 3px solid white;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  background-color: ${props => props.color};\n  cursor: pointer;\n  transition: transform 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n`;\n_c7 = ColorButton;\nconst ControlButton = styled(motion.button)`\n  padding: 0.8rem 1.5rem;\n  font-size: 1.2rem;\n  border-radius: 2rem;\n  background: ${props => props.primary ? '#6a1b9a' : '#fff'};\n  color: ${props => props.primary ? '#fff' : '#6a1b9a'};\n  border: 2px solid #6a1b9a;\n  cursor: pointer;\n  margin: 0.5rem;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.2s;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n`;\n_c8 = ControlButton;\nconst InstructionPanel = styled(motion.div)`\n  background: rgba(255, 255, 255, 0.95);\n  padding: 1.5rem;\n  border-radius: 1rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  max-width: 600px;\n  width: 100%;\n`;\n_c9 = InstructionPanel;\nconst InstructionTitle = styled.h2`\n  color: #6a1b9a;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n_c10 = InstructionTitle;\nconst InstructionStep = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin: 0.5rem 0;\n  font-size: 1.2rem;\n  color: #333;\n`;\n_c11 = InstructionStep;\nconst StepNumber = styled.span`\n  background: #6a1b9a;\n  color: white;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-weight: bold;\n`;\n_c12 = StepNumber;\nconst ProgressBar = styled.div`\n  width: 100%;\n  height: 10px;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 5px;\n  margin: 1rem 0;\n  overflow: hidden;\n`;\n_c13 = ProgressBar;\nconst Progress = styled.div`\n  width: ${props => props.percent}%;\n  height: 100%;\n  background: #4caf50;\n  border-radius: 5px;\n  transition: width 0.3s ease;\n`;\n_c14 = Progress;\nconst ShareButton = styled(ControlButton)`\n  background: #4267B2;\n  color: white;\n  border: none;\n  \n  &:hover {\n    background: #365899;\n  }\n`;\n_c15 = ShareButton;\nconst DownloadButton = styled(ControlButton)`\n  background: #4caf50;\n  color: white;\n  border: none;\n  \n  &:hover {\n    background: #388e3c;\n  }\n`;\n_c16 = DownloadButton;\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n_c17 = ButtonGroup;\nconst Message = styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(255, 255, 255, 0.95);\n  padding: 2rem;\n  border-radius: 1rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  text-align: center;\n  font-size: 1.5rem;\n  color: #6a1b9a;\n  z-index: 1000;\n`;\n_c18 = Message;\nconst colors = [{\n  name: 'ყავისფერი',\n  value: '#795548'\n}, {\n  name: 'ცისფერი',\n  value: '#03a9f4'\n}, {\n  name: 'ყვითელი',\n  value: '#fdd835'\n}, {\n  name: 'მწვანე',\n  value: '#4caf50'\n}, {\n  name: 'წითელი',\n  value: '#f44336'\n}, {\n  name: 'იისფერი',\n  value: '#9c27b0'\n}];\nconst DrawingGame = () => {\n  _s();\n  const {\n    playerName,\n    updateGameProgress\n  } = usePlayer();\n  const canvasRef = useRef(null);\n  const [currentColor, setCurrentColor] = useState(colors[0].value);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentTemplate] = useState(templates.bear);\n  const [currentPart, setCurrentPart] = useState(0);\n  const [completedParts, setCompletedParts] = useState([]);\n  const [message, setMessage] = useState('');\n  const [isColoring, setIsColoring] = useState(false);\n  const [drawnPoints, setDrawnPoints] = useState([]);\n  const [showInstructions, setShowInstructions] = useState(true);\n  const [savedDrawings, setSavedDrawings] = useState([]);\n  useEffect(() => {\n    // Load saved progress\n    const loadProgress = async () => {\n      try {\n        const progress = localStorage.getItem(`drawing_progress_${playerName}`);\n        if (progress) {\n          const {\n            completedParts: savedParts,\n            isColoring: wasColoring\n          } = JSON.parse(progress);\n          setCompletedParts(savedParts);\n          setCurrentPart(savedParts.length);\n          setIsColoring(wasColoring);\n        }\n      } catch (error) {\n        console.error('Error loading progress:', error);\n      }\n    };\n    loadProgress();\n  }, [playerName]);\n  useEffect(() => {\n    // Save progress when parts are completed\n    const saveProgress = () => {\n      try {\n        const progress = {\n          completedParts,\n          isColoring,\n          lastUpdated: new Date().toISOString()\n        };\n        localStorage.setItem(`drawing_progress_${playerName}`, JSON.stringify(progress));\n\n        // Update game progress in context\n        updateGameProgress('drawing', {\n          completedDrawings: savedDrawings.length,\n          lastCompletedAt: new Date().toISOString()\n        });\n      } catch (error) {\n        console.error('Error saving progress:', error);\n      }\n    };\n    if (completedParts.length > 0) {\n      saveProgress();\n    }\n  }, [completedParts, isColoring, playerName, savedDrawings]);\n  const saveDrawing = () => {\n    const canvas = canvasRef.current;\n    const image = canvas.toDataURL('image/png');\n    const newDrawing = {\n      id: Date.now(),\n      image,\n      date: new Date().toISOString(),\n      template: currentTemplate.name\n    };\n    setSavedDrawings(prev => [...prev, newDrawing]);\n    localStorage.setItem(`saved_drawings_${playerName}`, JSON.stringify([...savedDrawings, newDrawing]));\n    setMessage('ნახატი წარმატებით შეინახე! 🎨');\n    setTimeout(() => setMessage(''), 2000);\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    canvas.width = 600;\n    canvas.height = 400;\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n    ctx.lineWidth = 5;\n    drawTemplate();\n  }, [currentPart, completedParts]);\n  const drawTemplate = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Draw completed parts\n    completedParts.forEach(partIndex => {\n      const part = currentTemplate.parts[partIndex];\n      ctx.beginPath();\n      ctx.moveTo(part.path[0].x, part.path[0].y);\n      part.path.forEach(point => {\n        ctx.lineTo(point.x, point.y);\n      });\n      ctx.closePath();\n      ctx.fillStyle = part.color;\n      ctx.fill();\n    });\n\n    // Draw current part template as a light guide\n    if (!isColoring && currentPart < currentTemplate.parts.length) {\n      const part = currentTemplate.parts[currentPart];\n      ctx.beginPath();\n      ctx.moveTo(part.path[0].x, part.path[0].y);\n      part.path.forEach(point => {\n        ctx.lineTo(point.x, point.y);\n      });\n      ctx.closePath();\n      ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)';\n      ctx.stroke();\n    }\n  };\n  const startDrawing = e => {\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setIsDrawing(true);\n    setDrawnPoints([{\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.strokeStyle = currentColor;\n  };\n  const draw = e => {\n    if (!isDrawing || isColoring) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setDrawnPoints(prev => [...prev, {\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.lineTo(x, y);\n    ctx.stroke();\n  };\n  const stopDrawing = () => {\n    if (!isDrawing) return;\n    setIsDrawing(false);\n    checkDrawing();\n  };\n  const checkDrawing = () => {\n    if (drawnPoints.length < 5) return;\n    const currentShape = currentTemplate.parts[currentPart];\n    const tolerance = currentShape.tolerance;\n\n    // Simple shape matching algorithm\n    let matches = true;\n    const templatePoints = currentShape.path;\n    for (let i = 0; i < templatePoints.length; i++) {\n      const templatePoint = templatePoints[i];\n      let foundMatch = false;\n      for (let j = 0; j < drawnPoints.length; j++) {\n        const drawnPoint = drawnPoints[j];\n        const distance = Math.sqrt(Math.pow(templatePoint.x - drawnPoint.x, 2) + Math.pow(templatePoint.y - drawnPoint.y, 2));\n        if (distance <= tolerance) {\n          foundMatch = true;\n          break;\n        }\n      }\n      if (!foundMatch) {\n        matches = false;\n        break;\n      }\n    }\n    if (matches) {\n      setCompletedParts(prev => [...prev, currentPart]);\n      setMessage(currentTemplate.compliments[Math.floor(Math.random() * currentTemplate.compliments.length)]);\n      setTimeout(() => setMessage(''), 2000);\n      if (currentPart + 1 >= currentTemplate.parts.length) {\n        setIsColoring(true);\n      } else {\n        setCurrentPart(prev => prev + 1);\n      }\n    } else {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawTemplate();\n    }\n    setDrawnPoints([]);\n  };\n  const fillPart = (x, y) => {\n    if (!isColoring) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    completedParts.forEach((partIndex, index) => {\n      const part = currentTemplate.parts[partIndex];\n      ctx.beginPath();\n      ctx.moveTo(part.path[0].x, part.path[0].y);\n      part.path.forEach(point => {\n        ctx.lineTo(point.x, point.y);\n      });\n      ctx.closePath();\n      if (ctx.isPointInPath(x, y)) {\n        part.color = currentColor;\n        drawTemplate();\n      }\n    });\n  };\n  const handleCanvasClick = e => {\n    if (!isColoring) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    fillPart(x, y);\n  };\n  const calculateProgress = () => {\n    if (isColoring) return 100;\n    return Math.round(completedParts.length / currentTemplate.parts.length * 100);\n  };\n  const handleShare = async () => {\n    try {\n      const canvas = canvasRef.current;\n      const image = canvas.toDataURL('image/png');\n      if (navigator.share) {\n        await navigator.share({\n          title: 'ჩემი ნახატი',\n          text: 'ნახე, რა ლამაზი დათვი დავხატე!',\n          url: image\n        });\n      } else {\n        // Fallback for browsers that don't support Web Share API\n        const link = document.createElement('a');\n        link.download = 'ჩემი-დათვი.png';\n        link.href = image;\n        link.click();\n      }\n    } catch (error) {\n      console.error('გაზიარების შეცდომა:', error);\n    }\n  };\n  const handleDownload = () => {\n    const canvas = canvasRef.current;\n    const image = canvas.toDataURL('image/png');\n    const link = document.createElement('a');\n    link.download = 'ჩემი-დათვი.png';\n    link.href = image;\n    link.click();\n  };\n  const handleTouchStart = e => {\n    e.preventDefault();\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = touch.clientX - rect.left;\n    const y = touch.clientY - rect.top;\n    setIsDrawing(true);\n    setDrawnPoints([{\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.strokeStyle = currentColor;\n  };\n  const handleTouchMove = e => {\n    e.preventDefault();\n    if (!isDrawing || isColoring) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = touch.clientX - rect.left;\n    const y = touch.clientY - rect.top;\n    setDrawnPoints(prev => [...prev, {\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.lineTo(x, y);\n    ctx.stroke();\n  };\n  const handleTouchEnd = e => {\n    e.preventDefault();\n    if (!isDrawing) return;\n    setIsDrawing(false);\n    checkDrawing();\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n\n    // Set canvas size based on device\n    const updateCanvasSize = () => {\n      const container = canvas.parentElement;\n      const maxWidth = Math.min(600, window.innerWidth - 40);\n      canvas.width = maxWidth;\n      canvas.height = maxWidth * 0.67; // Keep aspect ratio\n\n      const ctx = canvas.getContext('2d');\n      ctx.lineJoin = 'round';\n      ctx.lineCap = 'round';\n      ctx.lineWidth = window.innerWidth < 768 ? 3 : 5;\n      drawTemplate();\n    };\n    updateCanvasSize();\n    window.addEventListener('resize', updateCanvasSize);\n    return () => {\n      window.removeEventListener('resize', updateCanvasSize);\n    };\n  }, [currentPart, completedParts]);\n  const resetDrawing = () => {\n    if (window.confirm('დარწმუნებული ხარ, რომ გსურს თავიდან დაწყება?')) {\n      setCompletedParts([]);\n      setCurrentPart(0);\n      setIsColoring(false);\n      setDrawnPoints([]);\n      localStorage.removeItem(`drawing_progress_${playerName}`);\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawTemplate();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GameContainer, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: isColoring ? '🎨 გააფერადე დათვი' : '✏️ დახატე დათვი'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showInstructions && /*#__PURE__*/_jsxDEV(InstructionPanel, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -20\n        },\n        children: [/*#__PURE__*/_jsxDEV(InstructionTitle, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCDD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 15\n          }, this), \" \\u10E0\\u10DD\\u10D2\\u10DD\\u10E0 \\u10D5\\u10D8\\u10D7\\u10D0\\u10DB\\u10D0\\u10E8\\u10DD\\u10D7?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10D3\\u10D0\\u10D0\\u10D7\\u10D5\\u10D0\\u10DA\\u10D8\\u10D4\\u10E0\\u10D4 \\u10E1\\u10D0\\u10DC\\u10D8\\u10DB\\u10E3\\u10E8\\u10DD \\u10DC\\u10D0\\u10EE\\u10D0\\u10E2\\u10D8 \\u10DB\\u10D0\\u10E0\\u10EF\\u10D5\\u10DC\\u10D8\\u10D5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10DB\\u10D8\\u10F0\\u10E7\\u10D4\\u10D5\\u10D8 \\u10D9\\u10DD\\u10DC\\u10E2\\u10E3\\u10E0\\u10E1 \\u10D3\\u10D0 \\u10D3\\u10D0\\u10EE\\u10D0\\u10E2\\u10D4 \\u10D7\\u10D8\\u10D7\\u10DD\\u10D4\\u10E3\\u10DA\\u10D8 \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10E1\\u10EC\\u10DD\\u10E0\\u10D0\\u10D3 \\u10D3\\u10D0\\u10EE\\u10D0\\u10E2\\u10D5\\u10D8\\u10E1 \\u10E8\\u10D4\\u10DB\\u10D7\\u10EE\\u10D5\\u10D4\\u10D5\\u10D0\\u10E8\\u10D8, \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D8 \\u10D0\\u10D5\\u10E2\\u10DD\\u10DB\\u10D0\\u10E2\\u10E3\\u10E0\\u10D0\\u10D3 \\u10D2\\u10D0\\u10DB\\u10DD\\u10E9\\u10DC\\u10D3\\u10D4\\u10D1\\u10D0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10D1\\u10DD\\u10DA\\u10DD\\u10E1 \\u10D0\\u10D8\\u10E0\\u10E9\\u10D8\\u10D4 \\u10E4\\u10D4\\u10E0\\u10D4\\u10D1\\u10D8 \\u10D3\\u10D0 \\u10D2\\u10D0\\u10D0\\u10E4\\u10D4\\u10E0\\u10D0\\u10D3\\u10D4 \\u10D3\\u10D0\\u10D7\\u10D5\\u10D8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n          children: /*#__PURE__*/_jsxDEV(Progress, {\n            percent: calculateProgress()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CanvasContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ReferenceImage, {\n        src: `/images/${isColoring ? 'bear-colored.png' : 'bear-template.png'}`,\n        alt: \"\\u10E1\\u10D0\\u10DC\\u10D8\\u10DB\\u10E3\\u10E8\\u10DD \\u10DC\\u10D0\\u10EE\\u10D0\\u10E2\\u10D8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n        ref: canvasRef,\n        onMouseDown: startDrawing,\n        onMouseMove: draw,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        onClick: handleCanvasClick,\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        style: {\n          touchAction: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ColorPalette, {\n      children: colors.map(color => /*#__PURE__*/_jsxDEV(ColorButton, {\n        color: color.value,\n        onClick: () => setCurrentColor(color.value),\n        title: color.name\n      }, color.value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n      children: [/*#__PURE__*/_jsxDEV(ControlButton, {\n        onClick: () => setShowInstructions(!showInstructions),\n        children: showInstructions ? '🎯 დამალე ინსტრუქცია' : '❓ აჩვენე ინსტრუქცია'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 9\n      }, this), isColoring && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ShareButton, {\n          onClick: handleShare,\n          children: \"\\uD83D\\uDD17 \\u10D2\\u10D0\\u10D0\\u10D6\\u10D8\\u10D0\\u10E0\\u10D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DownloadButton, {\n          onClick: handleDownload,\n          children: \"\\uD83D\\uDCBE \\u10E8\\u10D4\\u10D8\\u10DC\\u10D0\\u10EE\\u10D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n          onClick: saveDrawing,\n          children: \"\\u2B50 \\u10E8\\u10D4\\u10D8\\u10DC\\u10D0\\u10EE\\u10D4 \\u10D2\\u10D0\\u10DA\\u10D4\\u10E0\\u10D4\\u10D0\\u10E8\\u10D8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(ControlButton, {\n        onClick: resetDrawing,\n        children: \"\\uD83D\\uDD04 \\u10D7\\u10D0\\u10D5\\u10D8\\u10D3\\u10D0\\u10DC \\u10D3\\u10D0\\u10EC\\u10E7\\u10D4\\u10D1\\u10D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: message && /*#__PURE__*/_jsxDEV(Message, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -20\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 586,\n    columnNumber: 5\n  }, this);\n};\n_s(DrawingGame, \"dtVuWMmGb40Dvi9ZeLxv1fs/ASY=\", false, function () {\n  return [usePlayer];\n});\n_c19 = DrawingGame;\nexport default DrawingGame;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"GameContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"CanvasContainer\");\n$RefreshReg$(_c4, \"Canvas\");\n$RefreshReg$(_c5, \"ReferenceImage\");\n$RefreshReg$(_c6, \"ColorPalette\");\n$RefreshReg$(_c7, \"ColorButton\");\n$RefreshReg$(_c8, \"ControlButton\");\n$RefreshReg$(_c9, \"InstructionPanel\");\n$RefreshReg$(_c10, \"InstructionTitle\");\n$RefreshReg$(_c11, \"InstructionStep\");\n$RefreshReg$(_c12, \"StepNumber\");\n$RefreshReg$(_c13, \"ProgressBar\");\n$RefreshReg$(_c14, \"Progress\");\n$RefreshReg$(_c15, \"ShareButton\");\n$RefreshReg$(_c16, \"DownloadButton\");\n$RefreshReg$(_c17, \"ButtonGroup\");\n$RefreshReg$(_c18, \"Message\");\n$RefreshReg$(_c19, \"DrawingGame\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","motion","AnimatePresence","templates","usePlayer","jsxDEV","_jsxDEV","Fragment","_Fragment","GameContainer","div","_c","Title","h1","_c2","CanvasContainer","_c3","Canvas","canvas","_c4","ReferenceImage","img","_c5","ColorPalette","_c6","ColorButton","button","props","color","_c7","ControlButton","primary","_c8","InstructionPanel","_c9","InstructionTitle","h2","_c10","InstructionStep","_c11","StepNumber","span","_c12","ProgressBar","_c13","Progress","percent","_c14","ShareButton","_c15","DownloadButton","_c16","ButtonGroup","_c17","Message","_c18","colors","name","value","DrawingGame","_s","playerName","updateGameProgress","canvasRef","currentColor","setCurrentColor","isDrawing","setIsDrawing","currentTemplate","bear","currentPart","setCurrentPart","completedParts","setCompletedParts","message","setMessage","isColoring","setIsColoring","drawnPoints","setDrawnPoints","showInstructions","setShowInstructions","savedDrawings","setSavedDrawings","loadProgress","progress","localStorage","getItem","savedParts","wasColoring","JSON","parse","length","error","console","saveProgress","lastUpdated","Date","toISOString","setItem","stringify","completedDrawings","lastCompletedAt","saveDrawing","current","image","toDataURL","newDrawing","id","now","date","template","prev","setTimeout","ctx","getContext","width","height","lineJoin","lineCap","lineWidth","drawTemplate","clearRect","forEach","partIndex","part","parts","beginPath","moveTo","path","x","y","point","lineTo","closePath","fillStyle","fill","strokeStyle","stroke","startDrawing","e","rect","getBoundingClientRect","clientX","left","clientY","top","draw","stopDrawing","checkDrawing","currentShape","tolerance","matches","templatePoints","i","templatePoint","foundMatch","j","drawnPoint","distance","Math","sqrt","pow","compliments","floor","random","fillPart","index","isPointInPath","handleCanvasClick","calculateProgress","round","handleShare","navigator","share","title","text","url","link","document","createElement","download","href","click","handleDownload","handleTouchStart","preventDefault","touch","touches","handleTouchMove","handleTouchEnd","updateCanvasSize","container","parentElement","maxWidth","min","window","innerWidth","addEventListener","removeEventListener","resetDrawing","confirm","removeItem","initial","opacity","animate","exit","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onClick","onTouchStart","onTouchMove","onTouchEnd","style","touchAction","map","_c19","$RefreshReg$"],"sources":["C:/Users/osqel/OneDrive/Desktop/New folder/src/components/DrawingGame.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { templates } from '../data/drawingTemplates';\r\nimport { usePlayer } from '../context/PlayerContext';\r\n\r\nconst GameContainer = styled(motion.div)`\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  padding: 2rem;\r\n  background: linear-gradient(135deg, #fce4ec, #f3e5f5, #e3f2fd);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 2.5rem;\r\n  color: #6a1b9a;\r\n  margin-bottom: 2rem;\r\n  text-align: center;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst CanvasContainer = styled.div`\r\n  position: relative;\r\n  margin: 2rem 0;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n  background: white;\r\n  padding: 1rem;\r\n`;\r\n\r\nconst Canvas = styled.canvas`\r\n  border: 2px solid #e1bee7;\r\n  border-radius: 0.5rem;\r\n  cursor: crosshair;\r\n`;\r\n\r\nconst ReferenceImage = styled.img`\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: -150px;\r\n  width: 120px;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  background: white;\r\n  padding: 0.5rem;\r\n\r\n  @media (max-width: 768px) {\r\n    position: static;\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst ColorPalette = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin: 1rem 0;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ColorButton = styled.button`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  border: 3px solid white;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  background-color: ${props => props.color};\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.95);\r\n  }\r\n`;\r\n\r\nconst ControlButton = styled(motion.button)`\r\n  padding: 0.8rem 1.5rem;\r\n  font-size: 1.2rem;\r\n  border-radius: 2rem;\r\n  background: ${props => props.primary ? '#6a1b9a' : '#fff'};\r\n  color: ${props => props.primary ? '#fff' : '#6a1b9a'};\r\n  border: 2px solid #6a1b9a;\r\n  cursor: pointer;\r\n  margin: 0.5rem;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst InstructionPanel = styled(motion.div)`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  padding: 1.5rem;\r\n  border-radius: 1rem;\r\n  margin-bottom: 2rem;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  max-width: 600px;\r\n  width: 100%;\r\n`;\r\n\r\nconst InstructionTitle = styled.h2`\r\n  color: #6a1b9a;\r\n  font-size: 1.5rem;\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst InstructionStep = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin: 0.5rem 0;\r\n  font-size: 1.2rem;\r\n  color: #333;\r\n`;\r\n\r\nconst StepNumber = styled.span`\r\n  background: #6a1b9a;\r\n  color: white;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 10px;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-radius: 5px;\r\n  margin: 1rem 0;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Progress = styled.div`\r\n  width: ${props => props.percent}%;\r\n  height: 100%;\r\n  background: #4caf50;\r\n  border-radius: 5px;\r\n  transition: width 0.3s ease;\r\n`;\r\n\r\nconst ShareButton = styled(ControlButton)`\r\n  background: #4267B2;\r\n  color: white;\r\n  border: none;\r\n  \r\n  &:hover {\r\n    background: #365899;\r\n  }\r\n`;\r\n\r\nconst DownloadButton = styled(ControlButton)`\r\n  background: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  \r\n  &:hover {\r\n    background: #388e3c;\r\n  }\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Message = styled(motion.div)`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: rgba(255, 255, 255, 0.95);\r\n  padding: 2rem;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  font-size: 1.5rem;\r\n  color: #6a1b9a;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst colors = [\r\n  { name: 'ყავისფერი', value: '#795548' },\r\n  { name: 'ცისფერი', value: '#03a9f4' },\r\n  { name: 'ყვითელი', value: '#fdd835' },\r\n  { name: 'მწვანე', value: '#4caf50' },\r\n  { name: 'წითელი', value: '#f44336' },\r\n  { name: 'იისფერი', value: '#9c27b0' },\r\n];\r\n\r\nconst DrawingGame = () => {\r\n  const { playerName, updateGameProgress } = usePlayer();\r\n  const canvasRef = useRef(null);\r\n  const [currentColor, setCurrentColor] = useState(colors[0].value);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [currentTemplate] = useState(templates.bear);\r\n  const [currentPart, setCurrentPart] = useState(0);\r\n  const [completedParts, setCompletedParts] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n  const [isColoring, setIsColoring] = useState(false);\r\n  const [drawnPoints, setDrawnPoints] = useState([]);\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n  const [savedDrawings, setSavedDrawings] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Load saved progress\r\n    const loadProgress = async () => {\r\n      try {\r\n        const progress = localStorage.getItem(`drawing_progress_${playerName}`);\r\n        if (progress) {\r\n          const { completedParts: savedParts, isColoring: wasColoring } = JSON.parse(progress);\r\n          setCompletedParts(savedParts);\r\n          setCurrentPart(savedParts.length);\r\n          setIsColoring(wasColoring);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading progress:', error);\r\n      }\r\n    };\r\n\r\n    loadProgress();\r\n  }, [playerName]);\r\n\r\n  useEffect(() => {\r\n    // Save progress when parts are completed\r\n    const saveProgress = () => {\r\n      try {\r\n        const progress = {\r\n          completedParts,\r\n          isColoring,\r\n          lastUpdated: new Date().toISOString()\r\n        };\r\n        localStorage.setItem(`drawing_progress_${playerName}`, JSON.stringify(progress));\r\n        \r\n        // Update game progress in context\r\n        updateGameProgress('drawing', {\r\n          completedDrawings: savedDrawings.length,\r\n          lastCompletedAt: new Date().toISOString()\r\n        });\r\n      } catch (error) {\r\n        console.error('Error saving progress:', error);\r\n      }\r\n    };\r\n\r\n    if (completedParts.length > 0) {\r\n      saveProgress();\r\n    }\r\n  }, [completedParts, isColoring, playerName, savedDrawings]);\r\n\r\n  const saveDrawing = () => {\r\n    const canvas = canvasRef.current;\r\n    const image = canvas.toDataURL('image/png');\r\n    \r\n    const newDrawing = {\r\n      id: Date.now(),\r\n      image,\r\n      date: new Date().toISOString(),\r\n      template: currentTemplate.name\r\n    };\r\n\r\n    setSavedDrawings(prev => [...prev, newDrawing]);\r\n    localStorage.setItem(`saved_drawings_${playerName}`, JSON.stringify([...savedDrawings, newDrawing]));\r\n    \r\n    setMessage('ნახატი წარმატებით შეინახე! 🎨');\r\n    setTimeout(() => setMessage(''), 2000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    canvas.width = 600;\r\n    canvas.height = 400;\r\n    \r\n    ctx.lineJoin = 'round';\r\n    ctx.lineCap = 'round';\r\n    ctx.lineWidth = 5;\r\n\r\n    drawTemplate();\r\n  }, [currentPart, completedParts]);\r\n\r\n  const drawTemplate = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    // Draw completed parts\r\n    completedParts.forEach(partIndex => {\r\n      const part = currentTemplate.parts[partIndex];\r\n      ctx.beginPath();\r\n      ctx.moveTo(part.path[0].x, part.path[0].y);\r\n      part.path.forEach(point => {\r\n        ctx.lineTo(point.x, point.y);\r\n      });\r\n      ctx.closePath();\r\n      ctx.fillStyle = part.color;\r\n      ctx.fill();\r\n    });\r\n\r\n    // Draw current part template as a light guide\r\n    if (!isColoring && currentPart < currentTemplate.parts.length) {\r\n      const part = currentTemplate.parts[currentPart];\r\n      ctx.beginPath();\r\n      ctx.moveTo(part.path[0].x, part.path[0].y);\r\n      part.path.forEach(point => {\r\n        ctx.lineTo(point.x, point.y);\r\n      });\r\n      ctx.closePath();\r\n      ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)';\r\n      ctx.stroke();\r\n    }\r\n  };\r\n\r\n  const startDrawing = (e) => {\r\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    setIsDrawing(true);\r\n    setDrawnPoints([{ x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.beginPath();\r\n    ctx.moveTo(x, y);\r\n    ctx.strokeStyle = currentColor;\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing || isColoring) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    setDrawnPoints(prev => [...prev, { x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (!isDrawing) return;\r\n    \r\n    setIsDrawing(false);\r\n    checkDrawing();\r\n  };\r\n\r\n  const checkDrawing = () => {\r\n    if (drawnPoints.length < 5) return;\r\n\r\n    const currentShape = currentTemplate.parts[currentPart];\r\n    const tolerance = currentShape.tolerance;\r\n    \r\n    // Simple shape matching algorithm\r\n    let matches = true;\r\n    const templatePoints = currentShape.path;\r\n    \r\n    for (let i = 0; i < templatePoints.length; i++) {\r\n      const templatePoint = templatePoints[i];\r\n      let foundMatch = false;\r\n      \r\n      for (let j = 0; j < drawnPoints.length; j++) {\r\n        const drawnPoint = drawnPoints[j];\r\n        const distance = Math.sqrt(\r\n          Math.pow(templatePoint.x - drawnPoint.x, 2) +\r\n          Math.pow(templatePoint.y - drawnPoint.y, 2)\r\n        );\r\n        \r\n        if (distance <= tolerance) {\r\n          foundMatch = true;\r\n          break;\r\n        }\r\n      }\r\n      \r\n      if (!foundMatch) {\r\n        matches = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (matches) {\r\n      setCompletedParts(prev => [...prev, currentPart]);\r\n      setMessage(currentTemplate.compliments[Math.floor(Math.random() * currentTemplate.compliments.length)]);\r\n      setTimeout(() => setMessage(''), 2000);\r\n\r\n      if (currentPart + 1 >= currentTemplate.parts.length) {\r\n        setIsColoring(true);\r\n      } else {\r\n        setCurrentPart(prev => prev + 1);\r\n      }\r\n    } else {\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      drawTemplate();\r\n    }\r\n    \r\n    setDrawnPoints([]);\r\n  };\r\n\r\n  const fillPart = (x, y) => {\r\n    if (!isColoring) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    completedParts.forEach((partIndex, index) => {\r\n      const part = currentTemplate.parts[partIndex];\r\n      ctx.beginPath();\r\n      ctx.moveTo(part.path[0].x, part.path[0].y);\r\n      part.path.forEach(point => {\r\n        ctx.lineTo(point.x, point.y);\r\n      });\r\n      ctx.closePath();\r\n      \r\n      if (ctx.isPointInPath(x, y)) {\r\n        part.color = currentColor;\r\n        drawTemplate();\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleCanvasClick = (e) => {\r\n    if (!isColoring) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    fillPart(x, y);\r\n  };\r\n\r\n  const calculateProgress = () => {\r\n    if (isColoring) return 100;\r\n    return Math.round((completedParts.length / currentTemplate.parts.length) * 100);\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    try {\r\n      const canvas = canvasRef.current;\r\n      const image = canvas.toDataURL('image/png');\r\n      \r\n      if (navigator.share) {\r\n        await navigator.share({\r\n          title: 'ჩემი ნახატი',\r\n          text: 'ნახე, რა ლამაზი დათვი დავხატე!',\r\n          url: image\r\n        });\r\n      } else {\r\n        // Fallback for browsers that don't support Web Share API\r\n        const link = document.createElement('a');\r\n        link.download = 'ჩემი-დათვი.png';\r\n        link.href = image;\r\n        link.click();\r\n      }\r\n    } catch (error) {\r\n      console.error('გაზიარების შეცდომა:', error);\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    const canvas = canvasRef.current;\r\n    const image = canvas.toDataURL('image/png');\r\n    const link = document.createElement('a');\r\n    link.download = 'ჩემი-დათვი.png';\r\n    link.href = image;\r\n    link.click();\r\n  };\r\n\r\n  const handleTouchStart = (e) => {\r\n    e.preventDefault();\r\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const touch = e.touches[0];\r\n    const x = touch.clientX - rect.left;\r\n    const y = touch.clientY - rect.top;\r\n    \r\n    setIsDrawing(true);\r\n    setDrawnPoints([{ x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.beginPath();\r\n    ctx.moveTo(x, y);\r\n    ctx.strokeStyle = currentColor;\r\n  };\r\n\r\n  const handleTouchMove = (e) => {\r\n    e.preventDefault();\r\n    if (!isDrawing || isColoring) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const touch = e.touches[0];\r\n    const x = touch.clientX - rect.left;\r\n    const y = touch.clientY - rect.top;\r\n    \r\n    setDrawnPoints(prev => [...prev, { x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  };\r\n\r\n  const handleTouchEnd = (e) => {\r\n    e.preventDefault();\r\n    if (!isDrawing) return;\r\n    \r\n    setIsDrawing(false);\r\n    checkDrawing();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    \r\n    // Set canvas size based on device\r\n    const updateCanvasSize = () => {\r\n      const container = canvas.parentElement;\r\n      const maxWidth = Math.min(600, window.innerWidth - 40);\r\n      canvas.width = maxWidth;\r\n      canvas.height = maxWidth * 0.67; // Keep aspect ratio\r\n      \r\n      const ctx = canvas.getContext('2d');\r\n      ctx.lineJoin = 'round';\r\n      ctx.lineCap = 'round';\r\n      ctx.lineWidth = window.innerWidth < 768 ? 3 : 5;\r\n      \r\n      drawTemplate();\r\n    };\r\n\r\n    updateCanvasSize();\r\n    window.addEventListener('resize', updateCanvasSize);\r\n    \r\n    return () => {\r\n      window.removeEventListener('resize', updateCanvasSize);\r\n    };\r\n  }, [currentPart, completedParts]);\r\n\r\n  const resetDrawing = () => {\r\n    if (window.confirm('დარწმუნებული ხარ, რომ გსურს თავიდან დაწყება?')) {\r\n      setCompletedParts([]);\r\n      setCurrentPart(0);\r\n      setIsColoring(false);\r\n      setDrawnPoints([]);\r\n      localStorage.removeItem(`drawing_progress_${playerName}`);\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      drawTemplate();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GameContainer\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n    >\r\n      <Title>\r\n        {isColoring ? '🎨 გააფერადე დათვი' : '✏️ დახატე დათვი'}\r\n      </Title>\r\n\r\n      <AnimatePresence>\r\n        {showInstructions && (\r\n          <InstructionPanel\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n          >\r\n            <InstructionTitle>\r\n              <span>📝</span> როგორ ვითამაშოთ?\r\n            </InstructionTitle>\r\n            <InstructionStep>\r\n              <StepNumber>1</StepNumber>\r\n              <span>დაათვალიერე სანიმუშო ნახატი მარჯვნივ</span>\r\n            </InstructionStep>\r\n            <InstructionStep>\r\n              <StepNumber>2</StepNumber>\r\n              <span>მიჰყევი კონტურს და დახატე თითოეული ნაწილი</span>\r\n            </InstructionStep>\r\n            <InstructionStep>\r\n              <StepNumber>3</StepNumber>\r\n              <span>სწორად დახატვის შემთხვევაში, ნაწილი ავტომატურად გამოჩნდება</span>\r\n            </InstructionStep>\r\n            <InstructionStep>\r\n              <StepNumber>4</StepNumber>\r\n              <span>ბოლოს აირჩიე ფერები და გააფერადე დათვი</span>\r\n            </InstructionStep>\r\n            <ProgressBar>\r\n              <Progress percent={calculateProgress()} />\r\n            </ProgressBar>\r\n          </InstructionPanel>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      <CanvasContainer>\r\n        <ReferenceImage \r\n          src={`/images/${isColoring ? 'bear-colored.png' : 'bear-template.png'}`} \r\n          alt=\"სანიმუშო ნახატი\" \r\n        />\r\n        <Canvas\r\n          ref={canvasRef}\r\n          onMouseDown={startDrawing}\r\n          onMouseMove={draw}\r\n          onMouseUp={stopDrawing}\r\n          onMouseLeave={stopDrawing}\r\n          onClick={handleCanvasClick}\r\n          onTouchStart={handleTouchStart}\r\n          onTouchMove={handleTouchMove}\r\n          onTouchEnd={handleTouchEnd}\r\n          style={{ touchAction: 'none' }}\r\n        />\r\n      </CanvasContainer>\r\n\r\n      <ColorPalette>\r\n        {colors.map((color) => (\r\n          <ColorButton\r\n            key={color.value}\r\n            color={color.value}\r\n            onClick={() => setCurrentColor(color.value)}\r\n            title={color.name}\r\n          />\r\n        ))}\r\n      </ColorPalette>\r\n\r\n      <ButtonGroup>\r\n        <ControlButton onClick={() => setShowInstructions(!showInstructions)}>\r\n          {showInstructions ? '🎯 დამალე ინსტრუქცია' : '❓ აჩვენე ინსტრუქცია'}\r\n        </ControlButton>\r\n        {isColoring && (\r\n          <>\r\n            <ShareButton onClick={handleShare}>\r\n              🔗 გააზიარე\r\n            </ShareButton>\r\n            <DownloadButton onClick={handleDownload}>\r\n              💾 შეინახე\r\n            </DownloadButton>\r\n            <ControlButton onClick={saveDrawing}>\r\n              ⭐ შეინახე გალერეაში\r\n            </ControlButton>\r\n          </>\r\n        )}\r\n        <ControlButton onClick={resetDrawing}>\r\n          🔄 თავიდან დაწყება\r\n        </ControlButton>\r\n      </ButtonGroup>\r\n\r\n      <AnimatePresence>\r\n        {message && (\r\n          <Message\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n          >\r\n            {message}\r\n          </Message>\r\n        )}\r\n      </AnimatePresence>\r\n    </GameContainer>\r\n  );\r\n};\r\n\r\nexport default DrawingGame; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,MAAM,EAAEC,eAAe,QAAQ,eAAe;AACvD,SAASC,SAAS,QAAQ,0BAA0B;AACpD,SAASC,SAAS,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAErD,MAAMC,aAAa,GAAGT,MAAM,CAACC,MAAM,CAACS,GAAG,CAAC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GARIF,aAAa;AAUnB,MAAMG,KAAK,GAAGZ,MAAM,CAACa,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,KAAK;AAQX,MAAMG,eAAe,GAAGf,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACM,GAAA,GAPID,eAAe;AASrB,MAAME,MAAM,GAAGjB,MAAM,CAACkB,MAAM;AAC5B;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,MAAM;AAMZ,MAAMG,cAAc,GAAGpB,MAAM,CAACqB,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAdIF,cAAc;AAgBpB,MAAMG,YAAY,GAAGvB,MAAM,CAACU,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACc,GAAA,GANID,YAAY;AAQlB,MAAME,WAAW,GAAGzB,MAAM,CAAC0B,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA,sBAAsBC,KAAK,IAAIA,KAAK,CAACC,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAjBIJ,WAAW;AAmBjB,MAAMK,aAAa,GAAG9B,MAAM,CAACC,MAAM,CAACyB,MAAM,CAAC;AAC3C;AACA;AACA;AACA,gBAAgBC,KAAK,IAAIA,KAAK,CAACI,OAAO,GAAG,SAAS,GAAG,MAAM;AAC3D,WAAWJ,KAAK,IAAIA,KAAK,CAACI,OAAO,GAAG,MAAM,GAAG,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GApBIF,aAAa;AAsBnB,MAAMG,gBAAgB,GAAGjC,MAAM,CAACC,MAAM,CAACS,GAAG,CAAC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwB,GAAA,GARID,gBAAgB;AAUtB,MAAME,gBAAgB,GAAGnC,MAAM,CAACoC,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAPIF,gBAAgB;AAStB,MAAMG,eAAe,GAAGtC,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC6B,IAAA,GAPID,eAAe;AASrB,MAAME,UAAU,GAAGxC,MAAM,CAACyC,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAVIF,UAAU;AAYhB,MAAMG,WAAW,GAAG3C,MAAM,CAACU,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GAPID,WAAW;AASjB,MAAME,QAAQ,GAAG7C,MAAM,CAACU,GAAG;AAC3B,WAAWiB,KAAK,IAAIA,KAAK,CAACmB,OAAO;AACjC;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GANIF,QAAQ;AAQd,MAAMG,WAAW,GAAGhD,MAAM,CAAC8B,aAAa,CAAC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmB,IAAA,GARID,WAAW;AAUjB,MAAME,cAAc,GAAGlD,MAAM,CAAC8B,aAAa,CAAC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACqB,IAAA,GARID,cAAc;AAUpB,MAAME,WAAW,GAAGpD,MAAM,CAACU,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2C,IAAA,GANID,WAAW;AAQ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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}