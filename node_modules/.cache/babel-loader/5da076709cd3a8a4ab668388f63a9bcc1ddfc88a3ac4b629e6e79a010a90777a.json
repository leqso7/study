{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\osqel\\\\OneDrive\\\\Desktop\\\\New folder\\\\src\\\\components\\\\DrawingGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { templates } from '../data/drawingTemplates';\nimport { usePlayer } from '../context/PlayerContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GameContainer = styled(motion.div)`\n  min-height: 100vh;\n  width: 100%;\n  padding: 2rem;\n  background: linear-gradient(135deg, #fce4ec, #f3e5f5, #e3f2fd);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n_c = GameContainer;\nconst Title = styled.h1`\n  font-size: 2.5rem;\n  color: #6a1b9a;\n  margin-bottom: 2rem;\n  text-align: center;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n`;\n_c2 = Title;\nconst CanvasContainer = styled.div`\n  position: relative;\n  margin: 2rem 0;\n  border-radius: 1rem;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n  background: white;\n  padding: 1rem;\n`;\n_c3 = CanvasContainer;\nconst Canvas = styled.canvas`\n  border: 2px solid #e1bee7;\n  border-radius: 0.5rem;\n  cursor: crosshair;\n`;\n_c4 = Canvas;\nconst ReferenceImage = styled.img`\n  position: absolute;\n  top: 1rem;\n  right: -150px;\n  width: 120px;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  background: white;\n  padding: 0.5rem;\n\n  @media (max-width: 768px) {\n    position: static;\n    margin-bottom: 1rem;\n  }\n`;\n_c5 = ReferenceImage;\nconst ColorPalette = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin: 1rem 0;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n_c6 = ColorPalette;\nconst ColorButton = styled.button`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  border: 3px solid white;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  background-color: ${props => props.color};\n  cursor: pointer;\n  transition: transform 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n`;\n_c7 = ColorButton;\nconst ControlButton = styled(motion.button)`\n  padding: 0.8rem 1.5rem;\n  font-size: 1.2rem;\n  border-radius: 2rem;\n  background: ${props => props.primary ? '#6a1b9a' : '#fff'};\n  color: ${props => props.primary ? '#fff' : '#6a1b9a'};\n  border: 2px solid #6a1b9a;\n  cursor: pointer;\n  margin: 0.5rem;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.2s;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n`;\n_c8 = ControlButton;\nconst InstructionPanel = styled(motion.div)`\n  background: rgba(255, 255, 255, 0.95);\n  padding: 1.5rem;\n  border-radius: 1rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  max-width: 600px;\n  width: 100%;\n`;\n_c9 = InstructionPanel;\nconst InstructionTitle = styled.h2`\n  color: #6a1b9a;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n_c10 = InstructionTitle;\nconst InstructionStep = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin: 0.5rem 0;\n  font-size: 1.2rem;\n  color: #333;\n`;\n_c11 = InstructionStep;\nconst StepNumber = styled.span`\n  background: #6a1b9a;\n  color: white;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-weight: bold;\n`;\n_c12 = StepNumber;\nconst ProgressBar = styled.div`\n  width: 100%;\n  height: 10px;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 5px;\n  margin: 1rem 0;\n  overflow: hidden;\n`;\n_c13 = ProgressBar;\nconst Progress = styled.div`\n  width: ${props => props.percent}%;\n  height: 100%;\n  background: #4caf50;\n  border-radius: 5px;\n  transition: width 0.3s ease;\n`;\n_c14 = Progress;\nconst ShareButton = styled(ControlButton)`\n  background: #4267B2;\n  color: white;\n  border: none;\n  \n  &:hover {\n    background: #365899;\n  }\n`;\n_c15 = ShareButton;\nconst DownloadButton = styled(ControlButton)`\n  background: #4caf50;\n  color: white;\n  border: none;\n  \n  &:hover {\n    background: #388e3c;\n  }\n`;\n_c16 = DownloadButton;\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n_c17 = ButtonGroup;\nconst Message = styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(255, 255, 255, 0.95);\n  padding: 2rem;\n  border-radius: 1rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  text-align: center;\n  font-size: 1.5rem;\n  color: #6a1b9a;\n  z-index: 1000;\n`;\n_c18 = Message;\nconst AccessibilityInstructions = styled.div`\n  position: absolute;\n  left: -10000px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  \n  &:focus {\n    position: static;\n    width: auto;\n    height: auto;\n  }\n`;\n_c19 = AccessibilityInstructions;\nconst colors = [{\n  name: 'ყავისფერი',\n  value: '#795548'\n}, {\n  name: 'ცისფერი',\n  value: '#03a9f4'\n}, {\n  name: 'ყვითელი',\n  value: '#fdd835'\n}, {\n  name: 'მწვანე',\n  value: '#4caf50'\n}, {\n  name: 'წითელი',\n  value: '#f44336'\n}, {\n  name: 'იისფერი',\n  value: '#9c27b0'\n}];\nconst DrawingGame = () => {\n  _s();\n  const {\n    playerName,\n    updateGameProgress\n  } = usePlayer();\n  const canvasRef = useRef(null);\n  const [currentColor, setCurrentColor] = useState(colors[0].value);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentTemplate] = useState(templates.bear);\n  const [currentPart, setCurrentPart] = useState(0);\n  const [completedParts, setCompletedParts] = useState([]);\n  const [message, setMessage] = useState('');\n  const [isColoring, setIsColoring] = useState(false);\n  const [drawnPoints, setDrawnPoints] = useState([]);\n  const [showInstructions, setShowInstructions] = useState(true);\n  const [savedDrawings, setSavedDrawings] = useState([]);\n  const [currentPartName, setCurrentPartName] = useState('');\n  useEffect(() => {\n    // Load saved progress\n    const loadProgress = async () => {\n      try {\n        const progress = localStorage.getItem(`drawing_progress_${playerName}`);\n        if (progress) {\n          const {\n            completedParts: savedParts,\n            isColoring: wasColoring\n          } = JSON.parse(progress);\n          setCompletedParts(savedParts);\n          setCurrentPart(savedParts.length);\n          setIsColoring(wasColoring);\n        }\n      } catch (error) {\n        console.error('Error loading progress:', error);\n      }\n    };\n    loadProgress();\n  }, [playerName]);\n  useEffect(() => {\n    // Save progress when parts are completed\n    const saveProgress = () => {\n      try {\n        const progress = {\n          completedParts,\n          isColoring,\n          lastUpdated: new Date().toISOString()\n        };\n        localStorage.setItem(`drawing_progress_${playerName}`, JSON.stringify(progress));\n\n        // Update game progress in context\n        updateGameProgress('drawing', {\n          completedDrawings: savedDrawings.length,\n          lastCompletedAt: new Date().toISOString()\n        });\n      } catch (error) {\n        console.error('Error saving progress:', error);\n      }\n    };\n    if (completedParts.length > 0) {\n      saveProgress();\n    }\n  }, [completedParts, isColoring, playerName, savedDrawings]);\n  const saveDrawing = () => {\n    const canvas = canvasRef.current;\n    const image = canvas.toDataURL('image/png');\n    const newDrawing = {\n      id: Date.now(),\n      image,\n      date: new Date().toISOString(),\n      template: currentTemplate.name\n    };\n    setSavedDrawings(prev => [...prev, newDrawing]);\n    localStorage.setItem(`saved_drawings_${playerName}`, JSON.stringify([...savedDrawings, newDrawing]));\n    setMessage('ნახატი წარმატებით შეინახე! 🎨');\n    setTimeout(() => setMessage(''), 2000);\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    canvas.width = 600;\n    canvas.height = 400;\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n    ctx.lineWidth = 5;\n    drawTemplate();\n  }, [currentPart, completedParts]);\n  const drawTemplate = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Draw completed parts\n    completedParts.forEach(partIndex => {\n      const part = currentTemplate.parts[partIndex];\n      ctx.beginPath();\n      ctx.moveTo(part.path[0].x, part.path[0].y);\n      part.path.forEach(point => {\n        ctx.lineTo(point.x, point.y);\n      });\n      ctx.closePath();\n      ctx.fillStyle = part.color;\n      ctx.fill();\n    });\n\n    // Draw current part template as a light guide\n    if (!isColoring && currentPart < currentTemplate.parts.length) {\n      const part = currentTemplate.parts[currentPart];\n      ctx.beginPath();\n      ctx.moveTo(part.path[0].x, part.path[0].y);\n      part.path.forEach(point => {\n        ctx.lineTo(point.x, point.y);\n      });\n      ctx.closePath();\n      ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)';\n      ctx.stroke();\n    }\n  };\n  const startDrawing = e => {\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setIsDrawing(true);\n    setDrawnPoints([{\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.strokeStyle = currentColor;\n  };\n  const draw = e => {\n    if (!isDrawing || isColoring) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setDrawnPoints(prev => [...prev, {\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.lineTo(x, y);\n    ctx.stroke();\n  };\n  const stopDrawing = () => {\n    if (!isDrawing) return;\n    setIsDrawing(false);\n    checkDrawing();\n  };\n  const announceProgress = matches => {\n    const announcement = document.getElementById('accessibility-announcement');\n    if (announcement) {\n      if (matches) {\n        announcement.textContent = `კარგია! ${currentPartName} სწორად დახატე!`;\n      } else {\n        announcement.textContent = 'სცადე თავიდან, მიჰყევი კონტურს';\n      }\n    }\n  };\n  const checkDrawing = () => {\n    if (drawnPoints.length < 5) return;\n    const currentShape = currentTemplate.parts[currentPart];\n    const tolerance = currentShape.tolerance;\n    let matches = true;\n    const templatePoints = currentShape.path;\n    for (let i = 0; i < templatePoints.length; i++) {\n      const templatePoint = templatePoints[i];\n      let foundMatch = false;\n      for (let j = 0; j < drawnPoints.length; j++) {\n        const drawnPoint = drawnPoints[j];\n        const distance = Math.sqrt(Math.pow(templatePoint.x - drawnPoint.x, 2) + Math.pow(templatePoint.y - drawnPoint.y, 2));\n        if (distance <= tolerance) {\n          foundMatch = true;\n          break;\n        }\n      }\n      if (!foundMatch) {\n        matches = false;\n        break;\n      }\n    }\n    announceProgress(matches);\n    if (matches) {\n      setCompletedParts(prev => [...prev, currentPart]);\n      setMessage(currentTemplate.compliments[Math.floor(Math.random() * currentTemplate.compliments.length)]);\n      setTimeout(() => setMessage(''), 2000);\n      if (currentPart + 1 >= currentTemplate.parts.length) {\n        setIsColoring(true);\n      } else {\n        setCurrentPart(prev => prev + 1);\n      }\n    } else {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawTemplate();\n    }\n    setDrawnPoints([]);\n  };\n  const fillPart = (x, y) => {\n    if (!isColoring) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    completedParts.forEach((partIndex, index) => {\n      const part = currentTemplate.parts[partIndex];\n      ctx.beginPath();\n      ctx.moveTo(part.path[0].x, part.path[0].y);\n      part.path.forEach(point => {\n        ctx.lineTo(point.x, point.y);\n      });\n      ctx.closePath();\n      if (ctx.isPointInPath(x, y)) {\n        part.color = currentColor;\n        drawTemplate();\n      }\n    });\n  };\n  const handleCanvasClick = e => {\n    if (!isColoring) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    fillPart(x, y);\n  };\n  const calculateProgress = () => {\n    if (isColoring) return 100;\n    return Math.round(completedParts.length / currentTemplate.parts.length * 100);\n  };\n  const handleShare = async () => {\n    try {\n      const canvas = canvasRef.current;\n      const image = canvas.toDataURL('image/png');\n      if (navigator.share) {\n        await navigator.share({\n          title: 'ჩემი ნახატი',\n          text: 'ნახე, რა ლამაზი დათვი დავხატე!',\n          url: image\n        });\n      } else {\n        // Fallback for browsers that don't support Web Share API\n        const link = document.createElement('a');\n        link.download = 'ჩემი-დათვი.png';\n        link.href = image;\n        link.click();\n      }\n    } catch (error) {\n      console.error('გაზიარების შეცდომა:', error);\n    }\n  };\n  const handleDownload = () => {\n    const canvas = canvasRef.current;\n    const image = canvas.toDataURL('image/png');\n    const link = document.createElement('a');\n    link.download = 'ჩემი-დათვი.png';\n    link.href = image;\n    link.click();\n  };\n  const handleTouchStart = e => {\n    e.preventDefault();\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = touch.clientX - rect.left;\n    const y = touch.clientY - rect.top;\n    setIsDrawing(true);\n    setDrawnPoints([{\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.strokeStyle = currentColor;\n  };\n  const handleTouchMove = e => {\n    e.preventDefault();\n    if (!isDrawing || isColoring) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = touch.clientX - rect.left;\n    const y = touch.clientY - rect.top;\n    setDrawnPoints(prev => [...prev, {\n      x,\n      y\n    }]);\n    const ctx = canvas.getContext('2d');\n    ctx.lineTo(x, y);\n    ctx.stroke();\n  };\n  const handleTouchEnd = e => {\n    e.preventDefault();\n    if (!isDrawing) return;\n    setIsDrawing(false);\n    checkDrawing();\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n\n    // Set canvas size based on device\n    const updateCanvasSize = () => {\n      const container = canvas.parentElement;\n      const maxWidth = Math.min(600, window.innerWidth - 40);\n      canvas.width = maxWidth;\n      canvas.height = maxWidth * 0.67; // Keep aspect ratio\n\n      const ctx = canvas.getContext('2d');\n      ctx.lineJoin = 'round';\n      ctx.lineCap = 'round';\n      ctx.lineWidth = window.innerWidth < 768 ? 3 : 5;\n      drawTemplate();\n    };\n    updateCanvasSize();\n    window.addEventListener('resize', updateCanvasSize);\n    return () => {\n      window.removeEventListener('resize', updateCanvasSize);\n    };\n  }, [currentPart, completedParts]);\n  useEffect(() => {\n    if (currentPart < currentTemplate.parts.length) {\n      setCurrentPartName(currentTemplate.parts[currentPart].name);\n    }\n  }, [currentPart, currentTemplate]);\n  const resetDrawing = () => {\n    if (window.confirm('დარწმუნებული ხარ, რომ გსურს თავიდან დაწყება?')) {\n      setCompletedParts([]);\n      setCurrentPart(0);\n      setIsColoring(false);\n      setDrawnPoints([]);\n      localStorage.removeItem(`drawing_progress_${playerName}`);\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawTemplate();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GameContainer, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    role: \"main\",\n    \"aria-label\": \"\\u10EE\\u10D0\\u10E2\\u10D5\\u10D8\\u10E1 \\u10D7\\u10D0\\u10DB\\u10D0\\u10E8\\u10D8\",\n    children: [/*#__PURE__*/_jsxDEV(AccessibilityInstructions, {\n      tabIndex: \"0\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u10EE\\u10D0\\u10E2\\u10D5\\u10D8\\u10E1 \\u10D7\\u10D0\\u10DB\\u10D0\\u10E8\\u10D8\\u10E1 \\u10D8\\u10DC\\u10E1\\u10E2\\u10E0\\u10E3\\u10E5\\u10EA\\u10D8\\u10D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u10D7\\u10D0\\u10DB\\u10D0\\u10E8\\u10E8\\u10D8 \\u10E3\\u10DC\\u10D3\\u10D0 \\u10D3\\u10D0\\u10EE\\u10D0\\u10E2\\u10DD \\u10D3\\u10D0\\u10D7\\u10D5\\u10D8 \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA-\\u10DC\\u10D0\\u10EC\\u10D8\\u10DA. \\u10EF\\u10D4\\u10E0 \\u10D3\\u10D0\\u10EE\\u10D0\\u10E2\\u10D4 \", currentPartName, \", \\u10E8\\u10D4\\u10DB\\u10D3\\u10D4\\u10D2 \\u10D9\\u10D8 \\u10D3\\u10D0\\u10DC\\u10D0\\u10E0\\u10E9\\u10D4\\u10DC\\u10D8 \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D4\\u10D1\\u10D8.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u10D2\\u10D0\\u10DB\\u10DD\\u10D8\\u10E7\\u10D4\\u10DC\\u10D4 \\u10DB\\u10D0\\u10E3\\u10E1\\u10D8 \\u10D0\\u10DC \\u10D7\\u10D8\\u10D7\\u10D8 \\u10D4\\u10D9\\u10E0\\u10D0\\u10DC\\u10D6\\u10D4 \\u10E1\\u10D0\\u10EE\\u10D0\\u10E2\\u10D0\\u10D5\\u10D0\\u10D3. \\u10DB\\u10D8\\u10F0\\u10E7\\u10D4\\u10D5\\u10D8 \\u10DB\\u10DD\\u10EA\\u10D4\\u10DB\\u10E3\\u10DA \\u10D9\\u10DD\\u10DC\\u10E2\\u10E3\\u10E0\\u10E1.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u10E1\\u10EC\\u10DD\\u10E0\\u10D0\\u10D3 \\u10D3\\u10D0\\u10EE\\u10D0\\u10E2\\u10D5\\u10D8\\u10E1 \\u10E8\\u10D4\\u10DB\\u10D7\\u10EE\\u10D5\\u10D4\\u10D5\\u10D0\\u10E8\\u10D8, \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D8 \\u10D0\\u10D5\\u10E2\\u10DD\\u10DB\\u10D0\\u10E2\\u10E3\\u10E0\\u10D0\\u10D3 \\u10D2\\u10D0\\u10DB\\u10DD\\u10E9\\u10DC\\u10D3\\u10D4\\u10D1\\u10D0 \\u10D3\\u10D0 \\u10E8\\u10D4\\u10EB\\u10DA\\u10D4\\u10D1 \\u10E8\\u10D4\\u10DB\\u10D3\\u10D4\\u10D2 \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D6\\u10D4 \\u10D2\\u10D0\\u10D3\\u10D0\\u10E1\\u10D5\\u10DA\\u10D0\\u10E1.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"accessibility-announcement\",\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      className: \"sr-only\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      children: isColoring ? '🎨 გააფერადე დათვი' : `✏️ დახატე ${currentPartName}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showInstructions && /*#__PURE__*/_jsxDEV(InstructionPanel, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -20\n        },\n        children: [/*#__PURE__*/_jsxDEV(InstructionTitle, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCDD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 15\n          }, this), \" \\u10E0\\u10DD\\u10D2\\u10DD\\u10E0 \\u10D5\\u10D8\\u10D7\\u10D0\\u10DB\\u10D0\\u10E8\\u10DD\\u10D7?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10D3\\u10D0\\u10D0\\u10D7\\u10D5\\u10D0\\u10DA\\u10D8\\u10D4\\u10E0\\u10D4 \\u10E1\\u10D0\\u10DC\\u10D8\\u10DB\\u10E3\\u10E8\\u10DD \\u10DC\\u10D0\\u10EE\\u10D0\\u10E2\\u10D8 \\u10DB\\u10D0\\u10E0\\u10EF\\u10D5\\u10DC\\u10D8\\u10D5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10DB\\u10D8\\u10F0\\u10E7\\u10D4\\u10D5\\u10D8 \\u10D9\\u10DD\\u10DC\\u10E2\\u10E3\\u10E0\\u10E1 \\u10D3\\u10D0 \\u10D3\\u10D0\\u10EE\\u10D0\\u10E2\\u10D4 \\u10D7\\u10D8\\u10D7\\u10DD\\u10D4\\u10E3\\u10DA\\u10D8 \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10E1\\u10EC\\u10DD\\u10E0\\u10D0\\u10D3 \\u10D3\\u10D0\\u10EE\\u10D0\\u10E2\\u10D5\\u10D8\\u10E1 \\u10E8\\u10D4\\u10DB\\u10D7\\u10EE\\u10D5\\u10D4\\u10D5\\u10D0\\u10E8\\u10D8, \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D8 \\u10D0\\u10D5\\u10E2\\u10DD\\u10DB\\u10D0\\u10E2\\u10E3\\u10E0\\u10D0\\u10D3 \\u10D2\\u10D0\\u10DB\\u10DD\\u10E9\\u10DC\\u10D3\\u10D4\\u10D1\\u10D0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InstructionStep, {\n          children: [/*#__PURE__*/_jsxDEV(StepNumber, {\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u10D1\\u10DD\\u10DA\\u10DD\\u10E1 \\u10D0\\u10D8\\u10E0\\u10E9\\u10D8\\u10D4 \\u10E4\\u10D4\\u10E0\\u10D4\\u10D1\\u10D8 \\u10D3\\u10D0 \\u10D2\\u10D0\\u10D0\\u10E4\\u10D4\\u10E0\\u10D0\\u10D3\\u10D4 \\u10D3\\u10D0\\u10D7\\u10D5\\u10D8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n          children: /*#__PURE__*/_jsxDEV(Progress, {\n            percent: calculateProgress()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CanvasContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ReferenceImage, {\n        src: `/images/${isColoring ? 'bear-colored.png' : 'bear-template.png'}`,\n        alt: \"\\u10E1\\u10D0\\u10DC\\u10D8\\u10DB\\u10E3\\u10E8\\u10DD \\u10DC\\u10D0\\u10EE\\u10D0\\u10E2\\u10D8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n        ref: canvasRef,\n        onMouseDown: startDrawing,\n        onMouseMove: draw,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        onClick: handleCanvasClick,\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        style: {\n          touchAction: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ColorPalette, {\n      children: colors.map(color => /*#__PURE__*/_jsxDEV(ColorButton, {\n        color: color.value,\n        onClick: () => setCurrentColor(color.value),\n        title: color.name,\n        \"aria-label\": `აირჩიე ${color.name} ფერი`\n      }, color.value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n      children: [/*#__PURE__*/_jsxDEV(ControlButton, {\n        onClick: () => setShowInstructions(!showInstructions),\n        \"aria-expanded\": showInstructions,\n        children: showInstructions ? '🎯 დამალე ინსტრუქცია' : '❓ აჩვენე ინსტრუქცია'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 9\n      }, this), isColoring && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ShareButton, {\n          onClick: handleShare,\n          \"aria-label\": \"\\u10D2\\u10D0\\u10D0\\u10D6\\u10D8\\u10D0\\u10E0\\u10D4 \\u10DC\\u10D0\\u10EE\\u10D0\\u10E2\\u10D8\",\n          children: \"\\uD83D\\uDD17 \\u10D2\\u10D0\\u10D0\\u10D6\\u10D8\\u10D0\\u10E0\\u10D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DownloadButton, {\n          onClick: handleDownload,\n          \"aria-label\": \"\\u10E8\\u10D4\\u10D8\\u10DC\\u10D0\\u10EE\\u10D4 \\u10DC\\u10D0\\u10EE\\u10D0\\u10E2\\u10D8\",\n          children: \"\\uD83D\\uDCBE \\u10E8\\u10D4\\u10D8\\u10DC\\u10D0\\u10EE\\u10D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n          onClick: saveDrawing,\n          \"aria-label\": \"\\u10E8\\u10D4\\u10D8\\u10DC\\u10D0\\u10EE\\u10D4 \\u10D2\\u10D0\\u10DA\\u10D4\\u10E0\\u10D4\\u10D0\\u10E8\\u10D8\",\n          children: \"\\u2B50 \\u10E8\\u10D4\\u10D8\\u10DC\\u10D0\\u10EE\\u10D4 \\u10D2\\u10D0\\u10DA\\u10D4\\u10E0\\u10D4\\u10D0\\u10E8\\u10D8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(ControlButton, {\n        onClick: resetDrawing,\n        \"aria-label\": \"\\u10D3\\u10D0\\u10D8\\u10EC\\u10E7\\u10D4 \\u10D7\\u10D0\\u10D5\\u10D8\\u10D3\\u10D0\\u10DC\",\n        children: \"\\uD83D\\uDD04 \\u10D7\\u10D0\\u10D5\\u10D8\\u10D3\\u10D0\\u10DC \\u10D3\\u10D0\\u10EC\\u10E7\\u10D4\\u10D1\\u10D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: message && /*#__PURE__*/_jsxDEV(Message, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -20\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 620,\n    columnNumber: 5\n  }, this);\n};\n_s(DrawingGame, \"DfaKqXYvCUPiujbj+aQm94qFkeU=\", false, function () {\n  return [usePlayer];\n});\n_c20 = DrawingGame;\nexport default DrawingGame;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20;\n$RefreshReg$(_c, \"GameContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"CanvasContainer\");\n$RefreshReg$(_c4, \"Canvas\");\n$RefreshReg$(_c5, \"ReferenceImage\");\n$RefreshReg$(_c6, \"ColorPalette\");\n$RefreshReg$(_c7, \"ColorButton\");\n$RefreshReg$(_c8, \"ControlButton\");\n$RefreshReg$(_c9, \"InstructionPanel\");\n$RefreshReg$(_c10, \"InstructionTitle\");\n$RefreshReg$(_c11, \"InstructionStep\");\n$RefreshReg$(_c12, \"StepNumber\");\n$RefreshReg$(_c13, \"ProgressBar\");\n$RefreshReg$(_c14, \"Progress\");\n$RefreshReg$(_c15, \"ShareButton\");\n$RefreshReg$(_c16, \"DownloadButton\");\n$RefreshReg$(_c17, \"ButtonGroup\");\n$RefreshReg$(_c18, \"Message\");\n$RefreshReg$(_c19, \"AccessibilityInstructions\");\n$RefreshReg$(_c20, \"DrawingGame\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","motion","AnimatePresence","templates","usePlayer","jsxDEV","_jsxDEV","Fragment","_Fragment","GameContainer","div","_c","Title","h1","_c2","CanvasContainer","_c3","Canvas","canvas","_c4","ReferenceImage","img","_c5","ColorPalette","_c6","ColorButton","button","props","color","_c7","ControlButton","primary","_c8","InstructionPanel","_c9","InstructionTitle","h2","_c10","InstructionStep","_c11","StepNumber","span","_c12","ProgressBar","_c13","Progress","percent","_c14","ShareButton","_c15","DownloadButton","_c16","ButtonGroup","_c17","Message","_c18","AccessibilityInstructions","_c19","colors","name","value","DrawingGame","_s","playerName","updateGameProgress","canvasRef","currentColor","setCurrentColor","isDrawing","setIsDrawing","currentTemplate","bear","currentPart","setCurrentPart","completedParts","setCompletedParts","message","setMessage","isColoring","setIsColoring","drawnPoints","setDrawnPoints","showInstructions","setShowInstructions","savedDrawings","setSavedDrawings","currentPartName","setCurrentPartName","loadProgress","progress","localStorage","getItem","savedParts","wasColoring","JSON","parse","length","error","console","saveProgress","lastUpdated","Date","toISOString","setItem","stringify","completedDrawings","lastCompletedAt","saveDrawing","current","image","toDataURL","newDrawing","id","now","date","template","prev","setTimeout","ctx","getContext","width","height","lineJoin","lineCap","lineWidth","drawTemplate","clearRect","forEach","partIndex","part","parts","beginPath","moveTo","path","x","y","point","lineTo","closePath","fillStyle","fill","strokeStyle","stroke","startDrawing","e","rect","getBoundingClientRect","clientX","left","clientY","top","draw","stopDrawing","checkDrawing","announceProgress","matches","announcement","document","getElementById","textContent","currentShape","tolerance","templatePoints","i","templatePoint","foundMatch","j","drawnPoint","distance","Math","sqrt","pow","compliments","floor","random","fillPart","index","isPointInPath","handleCanvasClick","calculateProgress","round","handleShare","navigator","share","title","text","url","link","createElement","download","href","click","handleDownload","handleTouchStart","preventDefault","touch","touches","handleTouchMove","handleTouchEnd","updateCanvasSize","container","parentElement","maxWidth","min","window","innerWidth","addEventListener","removeEventListener","resetDrawing","confirm","removeItem","initial","opacity","animate","exit","role","children","tabIndex","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onClick","onTouchStart","onTouchMove","onTouchEnd","style","touchAction","map","_c20","$RefreshReg$"],"sources":["C:/Users/osqel/OneDrive/Desktop/New folder/src/components/DrawingGame.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { templates } from '../data/drawingTemplates';\r\nimport { usePlayer } from '../context/PlayerContext';\r\n\r\nconst GameContainer = styled(motion.div)`\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  padding: 2rem;\r\n  background: linear-gradient(135deg, #fce4ec, #f3e5f5, #e3f2fd);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 2.5rem;\r\n  color: #6a1b9a;\r\n  margin-bottom: 2rem;\r\n  text-align: center;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst CanvasContainer = styled.div`\r\n  position: relative;\r\n  margin: 2rem 0;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n  background: white;\r\n  padding: 1rem;\r\n`;\r\n\r\nconst Canvas = styled.canvas`\r\n  border: 2px solid #e1bee7;\r\n  border-radius: 0.5rem;\r\n  cursor: crosshair;\r\n`;\r\n\r\nconst ReferenceImage = styled.img`\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: -150px;\r\n  width: 120px;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  background: white;\r\n  padding: 0.5rem;\r\n\r\n  @media (max-width: 768px) {\r\n    position: static;\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst ColorPalette = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin: 1rem 0;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ColorButton = styled.button`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  border: 3px solid white;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  background-color: ${props => props.color};\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.95);\r\n  }\r\n`;\r\n\r\nconst ControlButton = styled(motion.button)`\r\n  padding: 0.8rem 1.5rem;\r\n  font-size: 1.2rem;\r\n  border-radius: 2rem;\r\n  background: ${props => props.primary ? '#6a1b9a' : '#fff'};\r\n  color: ${props => props.primary ? '#fff' : '#6a1b9a'};\r\n  border: 2px solid #6a1b9a;\r\n  cursor: pointer;\r\n  margin: 0.5rem;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst InstructionPanel = styled(motion.div)`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  padding: 1.5rem;\r\n  border-radius: 1rem;\r\n  margin-bottom: 2rem;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  max-width: 600px;\r\n  width: 100%;\r\n`;\r\n\r\nconst InstructionTitle = styled.h2`\r\n  color: #6a1b9a;\r\n  font-size: 1.5rem;\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst InstructionStep = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin: 0.5rem 0;\r\n  font-size: 1.2rem;\r\n  color: #333;\r\n`;\r\n\r\nconst StepNumber = styled.span`\r\n  background: #6a1b9a;\r\n  color: white;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 10px;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-radius: 5px;\r\n  margin: 1rem 0;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Progress = styled.div`\r\n  width: ${props => props.percent}%;\r\n  height: 100%;\r\n  background: #4caf50;\r\n  border-radius: 5px;\r\n  transition: width 0.3s ease;\r\n`;\r\n\r\nconst ShareButton = styled(ControlButton)`\r\n  background: #4267B2;\r\n  color: white;\r\n  border: none;\r\n  \r\n  &:hover {\r\n    background: #365899;\r\n  }\r\n`;\r\n\r\nconst DownloadButton = styled(ControlButton)`\r\n  background: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  \r\n  &:hover {\r\n    background: #388e3c;\r\n  }\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Message = styled(motion.div)`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: rgba(255, 255, 255, 0.95);\r\n  padding: 2rem;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  font-size: 1.5rem;\r\n  color: #6a1b9a;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst AccessibilityInstructions = styled.div`\r\n  position: absolute;\r\n  left: -10000px;\r\n  top: auto;\r\n  width: 1px;\r\n  height: 1px;\r\n  overflow: hidden;\r\n  \r\n  &:focus {\r\n    position: static;\r\n    width: auto;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nconst colors = [\r\n  { name: 'ყავისფერი', value: '#795548' },\r\n  { name: 'ცისფერი', value: '#03a9f4' },\r\n  { name: 'ყვითელი', value: '#fdd835' },\r\n  { name: 'მწვანე', value: '#4caf50' },\r\n  { name: 'წითელი', value: '#f44336' },\r\n  { name: 'იისფერი', value: '#9c27b0' },\r\n];\r\n\r\nconst DrawingGame = () => {\r\n  const { playerName, updateGameProgress } = usePlayer();\r\n  const canvasRef = useRef(null);\r\n  const [currentColor, setCurrentColor] = useState(colors[0].value);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [currentTemplate] = useState(templates.bear);\r\n  const [currentPart, setCurrentPart] = useState(0);\r\n  const [completedParts, setCompletedParts] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n  const [isColoring, setIsColoring] = useState(false);\r\n  const [drawnPoints, setDrawnPoints] = useState([]);\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n  const [savedDrawings, setSavedDrawings] = useState([]);\r\n  const [currentPartName, setCurrentPartName] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Load saved progress\r\n    const loadProgress = async () => {\r\n      try {\r\n        const progress = localStorage.getItem(`drawing_progress_${playerName}`);\r\n        if (progress) {\r\n          const { completedParts: savedParts, isColoring: wasColoring } = JSON.parse(progress);\r\n          setCompletedParts(savedParts);\r\n          setCurrentPart(savedParts.length);\r\n          setIsColoring(wasColoring);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading progress:', error);\r\n      }\r\n    };\r\n\r\n    loadProgress();\r\n  }, [playerName]);\r\n\r\n  useEffect(() => {\r\n    // Save progress when parts are completed\r\n    const saveProgress = () => {\r\n      try {\r\n        const progress = {\r\n          completedParts,\r\n          isColoring,\r\n          lastUpdated: new Date().toISOString()\r\n        };\r\n        localStorage.setItem(`drawing_progress_${playerName}`, JSON.stringify(progress));\r\n        \r\n        // Update game progress in context\r\n        updateGameProgress('drawing', {\r\n          completedDrawings: savedDrawings.length,\r\n          lastCompletedAt: new Date().toISOString()\r\n        });\r\n      } catch (error) {\r\n        console.error('Error saving progress:', error);\r\n      }\r\n    };\r\n\r\n    if (completedParts.length > 0) {\r\n      saveProgress();\r\n    }\r\n  }, [completedParts, isColoring, playerName, savedDrawings]);\r\n\r\n  const saveDrawing = () => {\r\n    const canvas = canvasRef.current;\r\n    const image = canvas.toDataURL('image/png');\r\n    \r\n    const newDrawing = {\r\n      id: Date.now(),\r\n      image,\r\n      date: new Date().toISOString(),\r\n      template: currentTemplate.name\r\n    };\r\n\r\n    setSavedDrawings(prev => [...prev, newDrawing]);\r\n    localStorage.setItem(`saved_drawings_${playerName}`, JSON.stringify([...savedDrawings, newDrawing]));\r\n    \r\n    setMessage('ნახატი წარმატებით შეინახე! 🎨');\r\n    setTimeout(() => setMessage(''), 2000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    canvas.width = 600;\r\n    canvas.height = 400;\r\n    \r\n    ctx.lineJoin = 'round';\r\n    ctx.lineCap = 'round';\r\n    ctx.lineWidth = 5;\r\n\r\n    drawTemplate();\r\n  }, [currentPart, completedParts]);\r\n\r\n  const drawTemplate = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    // Draw completed parts\r\n    completedParts.forEach(partIndex => {\r\n      const part = currentTemplate.parts[partIndex];\r\n      ctx.beginPath();\r\n      ctx.moveTo(part.path[0].x, part.path[0].y);\r\n      part.path.forEach(point => {\r\n        ctx.lineTo(point.x, point.y);\r\n      });\r\n      ctx.closePath();\r\n      ctx.fillStyle = part.color;\r\n      ctx.fill();\r\n    });\r\n\r\n    // Draw current part template as a light guide\r\n    if (!isColoring && currentPart < currentTemplate.parts.length) {\r\n      const part = currentTemplate.parts[currentPart];\r\n      ctx.beginPath();\r\n      ctx.moveTo(part.path[0].x, part.path[0].y);\r\n      part.path.forEach(point => {\r\n        ctx.lineTo(point.x, point.y);\r\n      });\r\n      ctx.closePath();\r\n      ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)';\r\n      ctx.stroke();\r\n    }\r\n  };\r\n\r\n  const startDrawing = (e) => {\r\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    setIsDrawing(true);\r\n    setDrawnPoints([{ x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.beginPath();\r\n    ctx.moveTo(x, y);\r\n    ctx.strokeStyle = currentColor;\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing || isColoring) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    setDrawnPoints(prev => [...prev, { x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (!isDrawing) return;\r\n    \r\n    setIsDrawing(false);\r\n    checkDrawing();\r\n  };\r\n\r\n  const announceProgress = (matches) => {\r\n    const announcement = document.getElementById('accessibility-announcement');\r\n    if (announcement) {\r\n      if (matches) {\r\n        announcement.textContent = `კარგია! ${currentPartName} სწორად დახატე!`;\r\n      } else {\r\n        announcement.textContent = 'სცადე თავიდან, მიჰყევი კონტურს';\r\n      }\r\n    }\r\n  };\r\n\r\n  const checkDrawing = () => {\r\n    if (drawnPoints.length < 5) return;\r\n\r\n    const currentShape = currentTemplate.parts[currentPart];\r\n    const tolerance = currentShape.tolerance;\r\n    \r\n    let matches = true;\r\n    const templatePoints = currentShape.path;\r\n    \r\n    for (let i = 0; i < templatePoints.length; i++) {\r\n      const templatePoint = templatePoints[i];\r\n      let foundMatch = false;\r\n      \r\n      for (let j = 0; j < drawnPoints.length; j++) {\r\n        const drawnPoint = drawnPoints[j];\r\n        const distance = Math.sqrt(\r\n          Math.pow(templatePoint.x - drawnPoint.x, 2) +\r\n          Math.pow(templatePoint.y - drawnPoint.y, 2)\r\n        );\r\n        \r\n        if (distance <= tolerance) {\r\n          foundMatch = true;\r\n          break;\r\n        }\r\n      }\r\n      \r\n      if (!foundMatch) {\r\n        matches = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    announceProgress(matches);\r\n\r\n    if (matches) {\r\n      setCompletedParts(prev => [...prev, currentPart]);\r\n      setMessage(currentTemplate.compliments[Math.floor(Math.random() * currentTemplate.compliments.length)]);\r\n      setTimeout(() => setMessage(''), 2000);\r\n\r\n      if (currentPart + 1 >= currentTemplate.parts.length) {\r\n        setIsColoring(true);\r\n      } else {\r\n        setCurrentPart(prev => prev + 1);\r\n      }\r\n    } else {\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      drawTemplate();\r\n    }\r\n    \r\n    setDrawnPoints([]);\r\n  };\r\n\r\n  const fillPart = (x, y) => {\r\n    if (!isColoring) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    completedParts.forEach((partIndex, index) => {\r\n      const part = currentTemplate.parts[partIndex];\r\n      ctx.beginPath();\r\n      ctx.moveTo(part.path[0].x, part.path[0].y);\r\n      part.path.forEach(point => {\r\n        ctx.lineTo(point.x, point.y);\r\n      });\r\n      ctx.closePath();\r\n      \r\n      if (ctx.isPointInPath(x, y)) {\r\n        part.color = currentColor;\r\n        drawTemplate();\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleCanvasClick = (e) => {\r\n    if (!isColoring) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    fillPart(x, y);\r\n  };\r\n\r\n  const calculateProgress = () => {\r\n    if (isColoring) return 100;\r\n    return Math.round((completedParts.length / currentTemplate.parts.length) * 100);\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    try {\r\n      const canvas = canvasRef.current;\r\n      const image = canvas.toDataURL('image/png');\r\n      \r\n      if (navigator.share) {\r\n        await navigator.share({\r\n          title: 'ჩემი ნახატი',\r\n          text: 'ნახე, რა ლამაზი დათვი დავხატე!',\r\n          url: image\r\n        });\r\n      } else {\r\n        // Fallback for browsers that don't support Web Share API\r\n        const link = document.createElement('a');\r\n        link.download = 'ჩემი-დათვი.png';\r\n        link.href = image;\r\n        link.click();\r\n      }\r\n    } catch (error) {\r\n      console.error('გაზიარების შეცდომა:', error);\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    const canvas = canvasRef.current;\r\n    const image = canvas.toDataURL('image/png');\r\n    const link = document.createElement('a');\r\n    link.download = 'ჩემი-დათვი.png';\r\n    link.href = image;\r\n    link.click();\r\n  };\r\n\r\n  const handleTouchStart = (e) => {\r\n    e.preventDefault();\r\n    if (isColoring || currentPart >= currentTemplate.parts.length) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const touch = e.touches[0];\r\n    const x = touch.clientX - rect.left;\r\n    const y = touch.clientY - rect.top;\r\n    \r\n    setIsDrawing(true);\r\n    setDrawnPoints([{ x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.beginPath();\r\n    ctx.moveTo(x, y);\r\n    ctx.strokeStyle = currentColor;\r\n  };\r\n\r\n  const handleTouchMove = (e) => {\r\n    e.preventDefault();\r\n    if (!isDrawing || isColoring) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const touch = e.touches[0];\r\n    const x = touch.clientX - rect.left;\r\n    const y = touch.clientY - rect.top;\r\n    \r\n    setDrawnPoints(prev => [...prev, { x, y }]);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  };\r\n\r\n  const handleTouchEnd = (e) => {\r\n    e.preventDefault();\r\n    if (!isDrawing) return;\r\n    \r\n    setIsDrawing(false);\r\n    checkDrawing();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    \r\n    // Set canvas size based on device\r\n    const updateCanvasSize = () => {\r\n      const container = canvas.parentElement;\r\n      const maxWidth = Math.min(600, window.innerWidth - 40);\r\n      canvas.width = maxWidth;\r\n      canvas.height = maxWidth * 0.67; // Keep aspect ratio\r\n      \r\n      const ctx = canvas.getContext('2d');\r\n      ctx.lineJoin = 'round';\r\n      ctx.lineCap = 'round';\r\n      ctx.lineWidth = window.innerWidth < 768 ? 3 : 5;\r\n      \r\n      drawTemplate();\r\n    };\r\n\r\n    updateCanvasSize();\r\n    window.addEventListener('resize', updateCanvasSize);\r\n    \r\n    return () => {\r\n      window.removeEventListener('resize', updateCanvasSize);\r\n    };\r\n  }, [currentPart, completedParts]);\r\n\r\n  useEffect(() => {\r\n    if (currentPart < currentTemplate.parts.length) {\r\n      setCurrentPartName(currentTemplate.parts[currentPart].name);\r\n    }\r\n  }, [currentPart, currentTemplate]);\r\n\r\n  const resetDrawing = () => {\r\n    if (window.confirm('დარწმუნებული ხარ, რომ გსურს თავიდან დაწყება?')) {\r\n      setCompletedParts([]);\r\n      setCurrentPart(0);\r\n      setIsColoring(false);\r\n      setDrawnPoints([]);\r\n      localStorage.removeItem(`drawing_progress_${playerName}`);\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      drawTemplate();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GameContainer\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      role=\"main\"\r\n      aria-label=\"ხატვის თამაში\"\r\n    >\r\n      <AccessibilityInstructions tabIndex=\"0\">\r\n        <h2>ხატვის თამაშის ინსტრუქცია</h2>\r\n        <p>თამაშში უნდა დახატო დათვი ნაწილ-ნაწილ. ჯერ დახატე {currentPartName}, შემდეგ კი დანარჩენი ნაწილები.</p>\r\n        <p>გამოიყენე მაუსი ან თითი ეკრანზე სახატავად. მიჰყევი მოცემულ კონტურს.</p>\r\n        <p>სწორად დახატვის შემთხვევაში, ნაწილი ავტომატურად გამოჩნდება და შეძლებ შემდეგ ნაწილზე გადასვლას.</p>\r\n      </AccessibilityInstructions>\r\n\r\n      <div \r\n        id=\"accessibility-announcement\" \r\n        role=\"status\" \r\n        aria-live=\"polite\" \r\n        className=\"sr-only\"\r\n      ></div>\r\n\r\n      <Title>\r\n        {isColoring ? '🎨 გააფერადე დათვი' : `✏️ დახატე ${currentPartName}`}\r\n      </Title>\r\n\r\n      <AnimatePresence>\r\n        {showInstructions && (\r\n          <InstructionPanel\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n          >\r\n            <InstructionTitle>\r\n              <span>📝</span> როგორ ვითამაშოთ?\r\n            </InstructionTitle>\r\n            <InstructionStep>\r\n              <StepNumber>1</StepNumber>\r\n              <span>დაათვალიერე სანიმუშო ნახატი მარჯვნივ</span>\r\n            </InstructionStep>\r\n            <InstructionStep>\r\n              <StepNumber>2</StepNumber>\r\n              <span>მიჰყევი კონტურს და დახატე თითოეული ნაწილი</span>\r\n            </InstructionStep>\r\n            <InstructionStep>\r\n              <StepNumber>3</StepNumber>\r\n              <span>სწორად დახატვის შემთხვევაში, ნაწილი ავტომატურად გამოჩნდება</span>\r\n            </InstructionStep>\r\n            <InstructionStep>\r\n              <StepNumber>4</StepNumber>\r\n              <span>ბოლოს აირჩიე ფერები და გააფერადე დათვი</span>\r\n            </InstructionStep>\r\n            <ProgressBar>\r\n              <Progress percent={calculateProgress()} />\r\n            </ProgressBar>\r\n          </InstructionPanel>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      <CanvasContainer>\r\n        <ReferenceImage \r\n          src={`/images/${isColoring ? 'bear-colored.png' : 'bear-template.png'}`} \r\n          alt=\"სანიმუშო ნახატი\" \r\n        />\r\n        <Canvas\r\n          ref={canvasRef}\r\n          onMouseDown={startDrawing}\r\n          onMouseMove={draw}\r\n          onMouseUp={stopDrawing}\r\n          onMouseLeave={stopDrawing}\r\n          onClick={handleCanvasClick}\r\n          onTouchStart={handleTouchStart}\r\n          onTouchMove={handleTouchMove}\r\n          onTouchEnd={handleTouchEnd}\r\n          style={{ touchAction: 'none' }}\r\n        />\r\n      </CanvasContainer>\r\n\r\n      <ColorPalette>\r\n        {colors.map((color) => (\r\n          <ColorButton\r\n            key={color.value}\r\n            color={color.value}\r\n            onClick={() => setCurrentColor(color.value)}\r\n            title={color.name}\r\n            aria-label={`აირჩიე ${color.name} ფერი`}\r\n          />\r\n        ))}\r\n      </ColorPalette>\r\n\r\n      <ButtonGroup>\r\n        <ControlButton \r\n          onClick={() => setShowInstructions(!showInstructions)}\r\n          aria-expanded={showInstructions}\r\n        >\r\n          {showInstructions ? '🎯 დამალე ინსტრუქცია' : '❓ აჩვენე ინსტრუქცია'}\r\n        </ControlButton>\r\n        {isColoring && (\r\n          <>\r\n            <ShareButton \r\n              onClick={handleShare}\r\n              aria-label=\"გააზიარე ნახატი\"\r\n            >\r\n              🔗 გააზიარე\r\n            </ShareButton>\r\n            <DownloadButton \r\n              onClick={handleDownload}\r\n              aria-label=\"შეინახე ნახატი\"\r\n            >\r\n              💾 შეინახე\r\n            </DownloadButton>\r\n            <ControlButton \r\n              onClick={saveDrawing}\r\n              aria-label=\"შეინახე გალერეაში\"\r\n            >\r\n              ⭐ შეინახე გალერეაში\r\n            </ControlButton>\r\n          </>\r\n        )}\r\n        <ControlButton \r\n          onClick={resetDrawing}\r\n          aria-label=\"დაიწყე თავიდან\"\r\n        >\r\n          🔄 თავიდან დაწყება\r\n        </ControlButton>\r\n      </ButtonGroup>\r\n\r\n      <AnimatePresence>\r\n        {message && (\r\n          <Message\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n          >\r\n            {message}\r\n          </Message>\r\n        )}\r\n      </AnimatePresence>\r\n    </GameContainer>\r\n  );\r\n};\r\n\r\nexport default DrawingGame; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,MAAM,EAAEC,eAAe,QAAQ,eAAe;AACvD,SAASC,SAAS,QAAQ,0BAA0B;AACpD,SAASC,SAAS,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAErD,MAAMC,aAAa,GAAGT,MAAM,CAACC,MAAM,CAACS,GAAG,CAAC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GARIF,aAAa;AAUnB,MAAMG,KAAK,GAAGZ,MAAM,CAACa,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,KAAK;AAQX,MAAMG,eAAe,GAAGf,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACM,GAAA,GAPID,eAAe;AASrB,MAAME,MAAM,GAAGjB,MAAM,CAACkB,MAAM;AAC5B;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,MAAM;AAMZ,MAAMG,cAAc,GAAGpB,MAAM,CAACqB,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAdIF,cAAc;AAgBpB,MAAMG,YAAY,GAAGvB,MAAM,CAACU,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACc,GAAA,GANID,YAAY;AAQlB,MAAME,WAAW,GAAGzB,MAAM,CAAC0B,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA,sBAAsBC,KAAK,IAAIA,KAAK,CAACC,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAjBIJ,WAAW;AAmBjB,MAAMK,aAAa,GAAG9B,MAAM,CAACC,MAAM,CAACyB,MAAM,CAAC;AAC3C;AACA;AACA;AACA,gBAAgBC,KAAK,IAAIA,KAAK,CAACI,OAAO,GAAG,SAAS,GAAG,MAAM;AAC3D,WAAWJ,KAAK,IAAIA,KAAK,CAACI,OAAO,GAAG,MAAM,GAAG,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GApBIF,aAAa;AAsBnB,MAAMG,gBAAgB,GAAGjC,MAAM,CAACC,MAAM,CAACS,GAAG,CAAC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwB,GAAA,GARID,gBAAgB;AAUtB,MAAME,gBAAgB,GAAGnC,MAAM,CAACoC,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAPIF,gBAAgB;AAStB,MAAMG,eAAe,GAAGtC,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC6B,IAAA,GAPID,eAAe;AASrB,MAAME,UAAU,GAAGxC,MAAM,CAACyC,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAVIF,UAAU;AAYhB,MAAMG,WAAW,GAAG3C,MAAM,CAACU,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GAPID,WAAW;AASjB,MAAME,QAAQ,GAAG7C,MAAM,CAACU,GAAG;AAC3B,WAAWiB,KAAK,IAAIA,KAAK,CAACmB,OAAO;AACjC;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GANIF,QAAQ;AAQd,MAAMG,WAAW,GAAGhD,MAAM,CAAC8B,aAAa,CAAC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmB,IAAA,GARID,WAAW;AAUjB,MAAME,cAAc,GAAGlD,MAAM,CAAC8B,aAAa,CAAC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACqB,IAAA,GARID,cAAc;AAUpB,MAAME,WAAW,GAAGpD,MAAM,CAACU,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2C,IAAA,GANID,WAAW;AAQ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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}