{"ast":null,"code":"import _objectSpread from\"C:/Users/osqel/OneDrive/Desktop/New folder/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/Users/osqel/OneDrive/Desktop/New folder/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22;import React,{useState,useEffect,useMemo}from'react';import styled,{keyframes}from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GameContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  width: 100%;\\n  max-height: calc(100vh - 200px);\\n\"])));const TopSection=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 2fr 1fr;\\n  gap: 1rem;\\n  margin-bottom: 1rem;\\n\"])));const RightSection=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  height: 100%;\\n\"])));const BottomSection=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n\"])));const Card=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.8);\\n  backdrop-filter: blur(10px);\\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\\n  border-radius: 1rem;\\n  padding: 1rem;\\n  height: fit-content;\\n\"])));const CardTitle=styled.h3(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 1rem;\\n  font-weight: 500;\\n  margin-bottom: 0.5rem;\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  color: #2196F3;\\n\"])));const ImageCard=styled(Card)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n\"])));const ImageContainer=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: calc((100% - \",\"px) / \",\");\\n  aspect-ratio: 1;\\n  border-radius: 0.5rem;\\n  overflow: hidden;\\n  border: 2px solid rgba(33, 150, 243, 0.2);\\n  margin: 0 auto;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  \\n  \",\"\\n\"])),props=>(props.size-1)*2,props=>props.size,props=>props.isExpanded&&\"\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 100;\\n    border: none;\\n    border-radius: 0;\\n  \");const OriginalImage=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  background-image: url(\",\");\\n  background-size: \",\";\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  transition: all 0.3s ease;\\n\"])),props=>props.image,props=>props.isExpanded?'contain':\"\".concat(props.size*100,\"% \").concat(props.size*100,\"%\"));const Board=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(\",\", 1fr);\\n  gap: 2px;\\n  background-color: \",\";\\n  padding: 0.5rem;\\n  border-radius: 0.5rem;\\n  border: 2px dashed \",\";\\n  aspect-ratio: 1;\\n\"])),props=>props.size,props=>props.isTarget?'rgba(245, 245, 245, 0.5)':'transparent',props=>props.isTarget?'rgba(33, 150, 243, 0.2)':'transparent');const PuzzlePiece=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  background-image: \",\";\\n  background-size: \",\"% \",\"%;\\n  background-position: \",\";\\n  border: 2px solid \",\";\\n  cursor: \",\";\\n  transition: all 0.2s;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: \",\";\\n  background-repeat: no-repeat;\\n  position: relative;\\n  opacity: \",\";\\n  transform: scale(\",\");\\n  border-radius: 0.25rem;\\n  \\n  &:hover {\\n    transform: \",\";\\n    z-index: 1;\\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n  }\\n\"])),props=>props.image?\"url(\".concat(props.image,\")\"):'none',props=>props.size*100,props=>props.size*100,props=>props.bgPosition,props=>props.isWrongAttempt?'#ff4444':props.isTarget?'transparent':'#e0e0e0',props=>props.isPlaced?'default':'pointer',props=>{if(props.isWrongAttempt)return'rgba(255, 68, 68, 0.1)';return props.isTarget?'rgba(245, 245, 245, 0.5)':'transparent';},props=>props.isDragging?0:1,props=>props.isDragging?0.8:1,props=>props.isPlaced||props.isDragging?'none':'scale(1.05)');const ButtonsContainer=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 0.5rem;\\n  margin-top: 1rem;\\n  justify-content: center;\\n\"])));const Button=styled.button(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  color: white;\\n  padding: 0.5rem 1rem;\\n  border: none;\\n  border-radius: 0.5rem;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  font-size: 0.875rem;\\n  transition: all 0.2s;\\n\\n  &:hover {\\n    transform: translateY(-2px);\\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n    background-color: \",\";\\n  }\\n\\n  &:active {\\n    transform: translateY(0);\\n  }\\n\"])),props=>props.variant==='primary'?'#2196F3':'#4CAF50',props=>props.variant==='primary'?'#1976D2':'#388E3C');const Message=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  color: #666;\\n  font-size: 14px;\\n  text-align: center;\\n\"])));const HintOverlay=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: rgba(33, 150, 243, 0.9);\\n  color: white;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  font-size: 14px;\\n  pointer-events: none;\\n  z-index: 2;\\n\"])));const DraggedPiece=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  width: 100px;\\n  height: 100px;\\n  pointer-events: none;\\n  z-index: 1000;\\n  border: 2px solid #2196F3;\\n  background-repeat: no-repeat;\\n  transform: translate(-50%, -50%);\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\\n\"])));const spin=keyframes(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n\"])));const LoadingSpinner=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  width: 40px;\\n  height: 40px;\\n  border: 4px solid #f3f3f3;\\n  border-top: 4px solid #2196F3;\\n  border-radius: 50%;\\n  animation: \",\" 1s linear infinite;\\n  margin: 0 auto;\\n\"])),spin);const LoadingOverlay=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(255, 255, 255, 0.8);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 10;\\n\"])));const fadeIn=keyframes(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  from { opacity: 0; transform: translateY(20px); }\\n  to { opacity: 1; transform: translateY(0); }\\n\"])));const fadeOut=keyframes(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n  from { opacity: 1; transform: translateY(0); }\\n  to { opacity: 0; transform: translateY(-20px); }\\n\"])));const Toast=styled.div(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  bottom: 2rem;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  background: rgba(76, 175, 80, 0.9);\\n  color: white;\\n  padding: 1rem 2rem;\\n  border-radius: 1rem;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  z-index: 1000;\\n  animation: \",\" 0.5s ease forwards;\\n  backdrop-filter: blur(10px);\\n\"])),props=>props.isClosing?fadeOut:fadeIn);const PuzzleBoard=_ref=>{let{image,difficulty,onProgress,onComplete,onBackToMenu,onImageChange,onError}=_ref;const[pieces,setPieces]=useState([]);const[selectedPiece,setSelectedPiece]=useState(null);const[targetBoard,setTargetBoard]=useState([]);const[correctPositions,setCorrectPositions]=useState(new Set());const[showHints,setShowHints]=useState(false);const[wrongAttempts,setWrongAttempts]=useState(new Set());const[errorCount,setErrorCount]=useState(0);const[draggedPiece,setDraggedPiece]=useState(null);const[mousePosition,setMousePosition]=useState({x:0,y:0});const[isLoading,setIsLoading]=useState(false);const[isImageExpanded,setIsImageExpanded]=useState(false);const[showToast,setShowToast]=useState(false);const[isToastClosing,setIsToastClosing]=useState(false);// Memoize the initial pieces calculation\nconst initialPieces=useMemo(()=>{const totalPieces=difficulty*difficulty;const pieceSize=400/difficulty;const pieces=[];for(let i=0;i<difficulty;i++){for(let j=0;j<difficulty;j++){pieces.push({id:i*difficulty+j,bgPosition:\"\".concat(j*(100/(difficulty-1)),\"% \").concat(i*(100/(difficulty-1)),\"%\"),correctIndex:i*difficulty+j});}}return pieces;},[difficulty]);useEffect(()=>{const initializePuzzle=async()=>{setIsLoading(true);try{const totalPieces=difficulty*difficulty;if(!difficulty||difficulty<=0){console.error('Invalid difficulty value:',difficulty);return;}// Use setTimeout to allow the loading indicator to render\nawait new Promise(resolve=>setTimeout(resolve,500));const shuffledPieces=[...initialPieces].sort(()=>Math.random()-0.5).map((piece,index)=>_objectSpread(_objectSpread({},piece),{},{currentPos:index}));const initialTargetBoard=Array(totalPieces).fill(null);setPieces(shuffledPieces);setTargetBoard(initialTargetBoard);setCorrectPositions(new Set());setSelectedPiece(null);setWrongAttempts(new Set());setDraggedPiece(null);}catch(error){console.error('Error initializing puzzle pieces:',error);}finally{setIsLoading(false);}};initializePuzzle();},[image,difficulty,initialPieces]);useEffect(()=>{setShowHints(false);},[difficulty]);useEffect(()=>{const handleMouseMove=e=>{if(draggedPiece!==null){setMousePosition({x:e.clientX,y:e.clientY});}};window.addEventListener('mousemove',handleMouseMove);return()=>window.removeEventListener('mousemove',handleMouseMove);},[draggedPiece]);const handlePaste=async e=>{e.preventDefault();setIsLoading(true);try{var _e$clipboardData;const items=(_e$clipboardData=e.clipboardData)===null||_e$clipboardData===void 0?void 0:_e$clipboardData.items;if(!items)return;for(let i=0;i<items.length;i++){if(items[i].type.indexOf('image')!==-1){const file=items[i].getAsFile();const reader=new FileReader();reader.onload=event=>{onImageChange(event.target.result);setIsLoading(false);};reader.readAsDataURL(file);return;}}setIsLoading(false);}catch(error){console.error('Error handling paste:',error);setIsLoading(false);}};const handleSourcePieceClick=index=>{if(index<0||index>=pieces.length||!pieces[index]){console.error('Invalid piece index:',index);return;}if(draggedPiece===index){setDraggedPiece(null);}else{setDraggedPiece(index);setWrongAttempts(new Set());}setSelectedPiece(index);};const handleTargetPieceClick=targetIndex=>{if(draggedPiece===null||targetIndex<0||targetIndex>=targetBoard.length){return;}if(targetBoard[targetIndex]!==null){return;}const selectedPieceData=pieces[draggedPiece];if(!selectedPieceData){console.error('Selected piece data is invalid');return;}if(parseInt(selectedPieceData.id)===targetIndex){const newTargetBoard=[...targetBoard];newTargetBoard[targetIndex]=selectedPieceData;setTargetBoard(newTargetBoard);const newPieces=[...pieces];newPieces[draggedPiece]=null;setPieces(newPieces);const newCorrectPositions=new Set(correctPositions);newCorrectPositions.add(targetIndex);setCorrectPositions(newCorrectPositions);}else{const newWrongAttempts=new Set(wrongAttempts);newWrongAttempts.add(targetIndex);setWrongAttempts(newWrongAttempts);setErrorCount(prev=>prev+1);onError();}setDraggedPiece(null);setSelectedPiece(null);};const toggleHints=()=>{setShowHints(!showHints);};const handlePasteClick=()=>{navigator.clipboard.read().then(async clipboardItems=>{for(const clipboardItem of clipboardItems){for(const type of clipboardItem.types){if(type.startsWith('image/')){const blob=await clipboardItem.getType(type);const reader=new FileReader();reader.onload=e=>{onImageChange(e.target.result);};reader.readAsDataURL(blob);return;}}}}).catch(err=>{console.error('Failed to read clipboard:',err);});};const toggleImageExpand=()=>{setIsImageExpanded(!isImageExpanded);};useEffect(()=>{const progress=correctPositions.size/(difficulty*difficulty)*100;onProgress(Math.round(progress));if(correctPositions.size===difficulty*difficulty){onComplete(errorCount);}},[correctPositions,difficulty,onComplete,errorCount,onProgress]);useEffect(()=>{window.addEventListener('paste',handlePaste);return()=>window.removeEventListener('paste',handlePaste);},[]);return/*#__PURE__*/_jsxs(GameContainer,{children:[/*#__PURE__*/_jsxs(TopSection,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardTitle,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAE\"}),\"\\u10D0\\u10E5 \\u10D0\\u10D0\\u10EC\\u10E7\\u10D5\\u10D4 \\u10DE\\u10D0\\u10D6\\u10DA\\u10D8\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[isLoading&&/*#__PURE__*/_jsx(LoadingOverlay,{children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),/*#__PURE__*/_jsx(Board,{size:difficulty,isTarget:true,children:targetBoard.map((piece,index)=>/*#__PURE__*/_jsx(PuzzlePiece,{image:piece?image:null,size:difficulty,bgPosition:piece?piece.bgPosition:'',isTarget:!piece,isPlaced:piece!==null,isWrongAttempt:wrongAttempts.has(index),onClick:()=>handleTargetPieceClick(index),children:!piece&&showHints&&/*#__PURE__*/_jsx(Message,{children:index+1})},index))})]})]}),/*#__PURE__*/_jsxs(RightSection,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardTitle,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83E\\uDDE9\"}),\"\\u10DE\\u10D0\\u10D6\\u10DA\\u10D8\\u10E1 \\u10DC\\u10D0\\u10EC\\u10D8\\u10DA\\u10D4\\u10D1\\u10D8\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[isLoading&&/*#__PURE__*/_jsx(LoadingOverlay,{children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),/*#__PURE__*/_jsx(Board,{size:difficulty,isTarget:false,children:pieces.map((piece,index)=>piece&&/*#__PURE__*/_jsx(PuzzlePiece,{image:image,size:difficulty,bgPosition:piece.bgPosition,onClick:()=>handleSourcePieceClick(index),isDragging:draggedPiece===index,children:showHints&&/*#__PURE__*/_jsx(HintOverlay,{children:parseInt(piece.id)+1})},piece.id))})]})]}),/*#__PURE__*/_jsxs(ImageCard,{children:[/*#__PURE__*/_jsxs(CardTitle,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDDBC\\uFE0F\"}),\"\\u10DD\\u10E0\\u10D8\\u10D2\\u10D8\\u10DC\\u10D0\\u10DA\\u10D8 \\u10E1\\u10E3\\u10E0\\u10D0\\u10D7\\u10D8\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'auto',fontSize:'0.8em',opacity:0.7},children:\"(\\u10D3\\u10D0\\u10D0\\u10ED\\u10D8\\u10E0\\u10D4 \\u10D2\\u10D0\\u10E1\\u10D0\\u10D3\\u10D8\\u10D3\\u10D4\\u10D1\\u10DA\\u10D0\\u10D3)\"})]}),/*#__PURE__*/_jsx(ImageContainer,{size:difficulty,isExpanded:isImageExpanded,onClick:toggleImageExpand,children:/*#__PURE__*/_jsx(OriginalImage,{image:image,size:difficulty,isExpanded:isImageExpanded})}),/*#__PURE__*/_jsxs(ButtonsContainer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:toggleHints,children:showHints?'🔍 დამალე მინიშნებები':'💡 მაჩვენე მინიშნებები'}),/*#__PURE__*/_jsx(Button,{onClick:onBackToMenu,children:\"\\uD83C\\uDFE0 \\u10DB\\u10D7\\u10D0\\u10D5\\u10D0\\u10E0 \\u10DB\\u10D4\\u10DC\\u10D8\\u10E3\\u10E8\\u10D8 \\u10D3\\u10D0\\u10D1\\u10E0\\u10E3\\u10DC\\u10D4\\u10D1\\u10D0\"})]})]})]})]}),draggedPiece!==null&&pieces[draggedPiece]&&/*#__PURE__*/_jsx(DraggedPiece,{style:{left:\"\".concat(mousePosition.x,\"px\"),top:\"\".concat(mousePosition.y,\"px\"),backgroundImage:\"url(\".concat(image,\")\"),backgroundSize:\"\".concat(difficulty*100,\"% \").concat(difficulty*100,\"%\"),backgroundPosition:pieces[draggedPiece].bgPosition}})]});};export default PuzzleBoard;","map":{"version":3,"names":["React","useState","useEffect","useMemo","styled","keyframes","jsx","_jsx","jsxs","_jsxs","GameContainer","div","_templateObject","_taggedTemplateLiteral","TopSection","_templateObject2","RightSection","_templateObject3","BottomSection","_templateObject4","Card","_templateObject5","CardTitle","h3","_templateObject6","ImageCard","_templateObject7","ImageContainer","_templateObject8","props","size","isExpanded","OriginalImage","_templateObject9","image","concat","Board","_templateObject10","isTarget","PuzzlePiece","_templateObject11","bgPosition","isWrongAttempt","isPlaced","isDragging","ButtonsContainer","_templateObject12","Button","button","_templateObject13","variant","Message","_templateObject14","HintOverlay","_templateObject15","DraggedPiece","_templateObject16","spin","_templateObject17","LoadingSpinner","_templateObject18","LoadingOverlay","_templateObject19","fadeIn","_templateObject20","fadeOut","_templateObject21","Toast","_templateObject22","isClosing","PuzzleBoard","_ref","difficulty","onProgress","onComplete","onBackToMenu","onImageChange","onError","pieces","setPieces","selectedPiece","setSelectedPiece","targetBoard","setTargetBoard","correctPositions","setCorrectPositions","Set","showHints","setShowHints","wrongAttempts","setWrongAttempts","errorCount","setErrorCount","draggedPiece","setDraggedPiece","mousePosition","setMousePosition","x","y","isLoading","setIsLoading","isImageExpanded","setIsImageExpanded","showToast","setShowToast","isToastClosing","setIsToastClosing","initialPieces","totalPieces","pieceSize","i","j","push","id","correctIndex","initializePuzzle","console","error","Promise","resolve","setTimeout","shuffledPieces","sort","Math","random","map","piece","index","_objectSpread","currentPos","initialTargetBoard","Array","fill","handleMouseMove","e","clientX","clientY","window","addEventListener","removeEventListener","handlePaste","preventDefault","_e$clipboardData","items","clipboardData","length","type","indexOf","file","getAsFile","reader","FileReader","onload","event","target","result","readAsDataURL","handleSourcePieceClick","handleTargetPieceClick","targetIndex","selectedPieceData","parseInt","newTargetBoard","newPieces","newCorrectPositions","add","newWrongAttempts","prev","toggleHints","handlePasteClick","navigator","clipboard","read","then","clipboardItems","clipboardItem","types","startsWith","blob","getType","catch","err","toggleImageExpand","progress","round","children","style","position","has","onClick","marginLeft","fontSize","opacity","left","top","backgroundImage","backgroundSize","backgroundPosition"],"sources":["C:/Users/osqel/OneDrive/Desktop/New folder/src/components/PuzzleBoard.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst GameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 100%;\n  max-height: calc(100vh - 200px);\n`;\n\nconst TopSection = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst RightSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  height: 100%;\n`;\n\nconst BottomSection = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Card = styled.div`\n  background: rgba(255, 255, 255, 0.8);\n  backdrop-filter: blur(10px);\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  border-radius: 1rem;\n  padding: 1rem;\n  height: fit-content;\n`;\n\nconst CardTitle = styled.h3`\n  font-size: 1rem;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #2196F3;\n`;\n\nconst ImageCard = styled(Card)`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ImageContainer = styled.div`\n  position: relative;\n  width: calc((100% - ${props => (props.size - 1) * 2}px) / ${props => props.size});\n  aspect-ratio: 1;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  border: 2px solid rgba(33, 150, 243, 0.2);\n  margin: 0 auto;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  ${props => props.isExpanded && `\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 100;\n    border: none;\n    border-radius: 0;\n  `}\n`;\n\nconst OriginalImage = styled.div`\n  width: 100%;\n  height: 100%;\n  background-image: url(${props => props.image});\n  background-size: ${props => props.isExpanded ? 'contain' : `${props.size * 100}% ${props.size * 100}%`};\n  background-position: center;\n  background-repeat: no-repeat;\n  transition: all 0.3s ease;\n`;\n\nconst Board = styled.div`\n  display: grid;\n  grid-template-columns: repeat(${props => props.size}, 1fr);\n  gap: 2px;\n  background-color: ${props => props.isTarget ? 'rgba(245, 245, 245, 0.5)' : 'transparent'};\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  border: 2px dashed ${props => props.isTarget ? 'rgba(33, 150, 243, 0.2)' : 'transparent'};\n  aspect-ratio: 1;\n`;\n\nconst PuzzlePiece = styled.div`\n  width: 100%;\n  height: 100%;\n  background-image: ${props => props.image ? `url(${props.image})` : 'none'};\n  background-size: ${props => props.size * 100}% ${props => props.size * 100}%;\n  background-position: ${props => props.bgPosition};\n  border: 2px solid ${props => props.isWrongAttempt ? '#ff4444' : props.isTarget ? 'transparent' : '#e0e0e0'};\n  cursor: ${props => props.isPlaced ? 'default' : 'pointer'};\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${props => {\n    if (props.isWrongAttempt) return 'rgba(255, 68, 68, 0.1)';\n    return props.isTarget ? 'rgba(245, 245, 245, 0.5)' : 'transparent';\n  }};\n  background-repeat: no-repeat;\n  position: relative;\n  opacity: ${props => props.isDragging ? 0 : 1};\n  transform: scale(${props => props.isDragging ? 0.8 : 1});\n  border-radius: 0.25rem;\n  \n  &:hover {\n    transform: ${props => props.isPlaced || props.isDragging ? 'none' : 'scale(1.05)'};\n    z-index: 1;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n`;\n\nconst ButtonsContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  justify-content: center;\n`;\n\nconst Button = styled.button`\n  background-color: ${props => props.variant === 'primary' ? '#2196F3' : '#4CAF50'};\n  color: white;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    background-color: ${props => props.variant === 'primary' ? '#1976D2' : '#388E3C'};\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n`;\n\nconst Message = styled.div`\n  color: #666;\n  font-size: 14px;\n  text-align: center;\n`;\n\nconst HintOverlay = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: rgba(33, 150, 243, 0.9);\n  color: white;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  pointer-events: none;\n  z-index: 2;\n`;\n\nconst DraggedPiece = styled.div`\n  position: fixed;\n  width: 100px;\n  height: 100px;\n  pointer-events: none;\n  z-index: 1000;\n  border: 2px solid #2196F3;\n  background-repeat: no-repeat;\n  transform: translate(-50%, -50%);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n`;\n\nconst spin = keyframes`\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 40px;\n  height: 40px;\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid #2196F3;\n  border-radius: 50%;\n  animation: ${spin} 1s linear infinite;\n  margin: 0 auto;\n`;\n\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n`;\n\nconst fadeIn = keyframes`\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n`;\n\nconst fadeOut = keyframes`\n  from { opacity: 1; transform: translateY(0); }\n  to { opacity: 0; transform: translateY(-20px); }\n`;\n\nconst Toast = styled.div`\n  position: fixed;\n  bottom: 2rem;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(76, 175, 80, 0.9);\n  color: white;\n  padding: 1rem 2rem;\n  border-radius: 1rem;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  z-index: 1000;\n  animation: ${props => props.isClosing ? fadeOut : fadeIn} 0.5s ease forwards;\n  backdrop-filter: blur(10px);\n`;\n\nconst PuzzleBoard = ({ image, difficulty, onProgress, onComplete, onBackToMenu, onImageChange, onError }) => {\n  const [pieces, setPieces] = useState([]);\n  const [selectedPiece, setSelectedPiece] = useState(null);\n  const [targetBoard, setTargetBoard] = useState([]);\n  const [correctPositions, setCorrectPositions] = useState(new Set());\n  const [showHints, setShowHints] = useState(false);\n  const [wrongAttempts, setWrongAttempts] = useState(new Set());\n  const [errorCount, setErrorCount] = useState(0);\n  const [draggedPiece, setDraggedPiece] = useState(null);\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  const [isLoading, setIsLoading] = useState(false);\n  const [isImageExpanded, setIsImageExpanded] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [isToastClosing, setIsToastClosing] = useState(false);\n\n  // Memoize the initial pieces calculation\n  const initialPieces = useMemo(() => {\n    const totalPieces = difficulty * difficulty;\n    const pieceSize = 400 / difficulty;\n    const pieces = [];\n\n    for (let i = 0; i < difficulty; i++) {\n      for (let j = 0; j < difficulty; j++) {\n        pieces.push({\n          id: i * difficulty + j,\n          bgPosition: `${j * (100 / (difficulty - 1))}% ${i * (100 / (difficulty - 1))}%`,\n          correctIndex: i * difficulty + j\n        });\n      }\n    }\n\n    return pieces;\n  }, [difficulty]);\n\n  useEffect(() => {\n    const initializePuzzle = async () => {\n      setIsLoading(true);\n      \n      try {\n        const totalPieces = difficulty * difficulty;\n        \n        if (!difficulty || difficulty <= 0) {\n          console.error('Invalid difficulty value:', difficulty);\n          return;\n        }\n\n        // Use setTimeout to allow the loading indicator to render\n        await new Promise(resolve => setTimeout(resolve, 500));\n\n        const shuffledPieces = [...initialPieces]\n          .sort(() => Math.random() - 0.5)\n          .map((piece, index) => ({\n            ...piece,\n            currentPos: index\n          }));\n\n        const initialTargetBoard = Array(totalPieces).fill(null);\n        \n        setPieces(shuffledPieces);\n        setTargetBoard(initialTargetBoard);\n        setCorrectPositions(new Set());\n        setSelectedPiece(null);\n        setWrongAttempts(new Set());\n        setDraggedPiece(null);\n      } catch (error) {\n        console.error('Error initializing puzzle pieces:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializePuzzle();\n  }, [image, difficulty, initialPieces]);\n\n  useEffect(() => {\n    setShowHints(false);\n  }, [difficulty]);\n\n  useEffect(() => {\n    const handleMouseMove = (e) => {\n      if (draggedPiece !== null) {\n        setMousePosition({ x: e.clientX, y: e.clientY });\n      }\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, [draggedPiece]);\n\n  const handlePaste = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    \n    try {\n      const items = e.clipboardData?.items;\n      if (!items) return;\n\n      for (let i = 0; i < items.length; i++) {\n        if (items[i].type.indexOf('image') !== -1) {\n          const file = items[i].getAsFile();\n          const reader = new FileReader();\n          \n          reader.onload = (event) => {\n            onImageChange(event.target.result);\n            setIsLoading(false);\n          };\n          \n          reader.readAsDataURL(file);\n          return;\n        }\n      }\n      \n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error handling paste:', error);\n      setIsLoading(false);\n    }\n  };\n\n  const handleSourcePieceClick = (index) => {\n    if (index < 0 || index >= pieces.length || !pieces[index]) {\n      console.error('Invalid piece index:', index);\n      return;\n    }\n\n    if (draggedPiece === index) {\n      setDraggedPiece(null);\n    } else {\n      setDraggedPiece(index);\n      setWrongAttempts(new Set());\n    }\n    setSelectedPiece(index);\n  };\n\n  const handleTargetPieceClick = (targetIndex) => {\n    if (draggedPiece === null || targetIndex < 0 || targetIndex >= targetBoard.length) {\n      return;\n    }\n\n    if (targetBoard[targetIndex] !== null) {\n      return;\n    }\n\n    const selectedPieceData = pieces[draggedPiece];\n    if (!selectedPieceData) {\n      console.error('Selected piece data is invalid');\n      return;\n    }\n\n    if (parseInt(selectedPieceData.id) === targetIndex) {\n      const newTargetBoard = [...targetBoard];\n      newTargetBoard[targetIndex] = selectedPieceData;\n      setTargetBoard(newTargetBoard);\n\n      const newPieces = [...pieces];\n      newPieces[draggedPiece] = null;\n      setPieces(newPieces);\n\n      const newCorrectPositions = new Set(correctPositions);\n      newCorrectPositions.add(targetIndex);\n      setCorrectPositions(newCorrectPositions);\n    } else {\n      const newWrongAttempts = new Set(wrongAttempts);\n      newWrongAttempts.add(targetIndex);\n      setWrongAttempts(newWrongAttempts);\n      setErrorCount(prev => prev + 1);\n      onError();\n    }\n\n    setDraggedPiece(null);\n    setSelectedPiece(null);\n  };\n\n  const toggleHints = () => {\n    setShowHints(!showHints);\n  };\n\n  const handlePasteClick = () => {\n    navigator.clipboard.read().then(async (clipboardItems) => {\n      for (const clipboardItem of clipboardItems) {\n        for (const type of clipboardItem.types) {\n          if (type.startsWith('image/')) {\n            const blob = await clipboardItem.getType(type);\n            const reader = new FileReader();\n            reader.onload = (e) => {\n              onImageChange(e.target.result);\n            };\n            reader.readAsDataURL(blob);\n            return;\n          }\n        }\n      }\n    }).catch((err) => {\n      console.error('Failed to read clipboard:', err);\n    });\n  };\n\n  const toggleImageExpand = () => {\n    setIsImageExpanded(!isImageExpanded);\n  };\n\n  useEffect(() => {\n    const progress = (correctPositions.size / (difficulty * difficulty)) * 100;\n    onProgress(Math.round(progress));\n    \n    if (correctPositions.size === difficulty * difficulty) {\n      onComplete(errorCount);\n    }\n  }, [correctPositions, difficulty, onComplete, errorCount, onProgress]);\n\n  useEffect(() => {\n    window.addEventListener('paste', handlePaste);\n    return () => window.removeEventListener('paste', handlePaste);\n  }, []);\n\n  return (\n    <GameContainer>\n      <TopSection>\n        <Card>\n          <CardTitle>\n            <span>🎮</span>\n            აქ ააწყვე პაზლი\n          </CardTitle>\n          <div style={{ position: 'relative' }}>\n            {isLoading && (\n              <LoadingOverlay>\n                <LoadingSpinner />\n              </LoadingOverlay>\n            )}\n            <Board size={difficulty} isTarget={true}>\n              {targetBoard.map((piece, index) => (\n                <PuzzlePiece\n                  key={index}\n                  image={piece ? image : null}\n                  size={difficulty}\n                  bgPosition={piece ? piece.bgPosition : ''}\n                  isTarget={!piece}\n                  isPlaced={piece !== null}\n                  isWrongAttempt={wrongAttempts.has(index)}\n                  onClick={() => handleTargetPieceClick(index)}\n                >\n                  {!piece && showHints && (\n                    <Message>\n                      {index + 1}\n                    </Message>\n                  )}\n                </PuzzlePiece>\n              ))}\n            </Board>\n          </div>\n        </Card>\n\n        <RightSection>\n          <Card>\n            <CardTitle>\n              <span>🧩</span>\n              პაზლის ნაწილები\n            </CardTitle>\n            <div style={{ position: 'relative' }}>\n              {isLoading && (\n                <LoadingOverlay>\n                  <LoadingSpinner />\n                </LoadingOverlay>\n              )}\n              <Board size={difficulty} isTarget={false}>\n                {pieces.map((piece, index) => piece && (\n                  <PuzzlePiece\n                    key={piece.id}\n                    image={image}\n                    size={difficulty}\n                    bgPosition={piece.bgPosition}\n                    onClick={() => handleSourcePieceClick(index)}\n                    isDragging={draggedPiece === index}\n                  >\n                    {showHints && (\n                      <HintOverlay>\n                        {parseInt(piece.id) + 1}\n                      </HintOverlay>\n                    )}\n                  </PuzzlePiece>\n                ))}\n              </Board>\n            </div>\n          </Card>\n\n          <ImageCard>\n            <CardTitle>\n              <span>🖼️</span>\n              ორიგინალი სურათი\n              <span style={{ marginLeft: 'auto', fontSize: '0.8em', opacity: 0.7 }}>\n                (დააჭირე გასადიდებლად)\n              </span>\n            </CardTitle>\n            <ImageContainer \n              size={difficulty} \n              isExpanded={isImageExpanded}\n              onClick={toggleImageExpand}\n            >\n              <OriginalImage \n                image={image} \n                size={difficulty}\n                isExpanded={isImageExpanded}\n              />\n            </ImageContainer>\n            <ButtonsContainer>\n              <Button variant=\"primary\" onClick={toggleHints}>\n                {showHints ? '🔍 დამალე მინიშნებები' : '💡 მაჩვენე მინიშნებები'}\n              </Button>\n              <Button onClick={onBackToMenu}>\n                🏠 მთავარ მენიუში დაბრუნება\n              </Button>\n            </ButtonsContainer>\n          </ImageCard>\n        </RightSection>\n      </TopSection>\n\n      {draggedPiece !== null && pieces[draggedPiece] && (\n        <DraggedPiece\n          style={{\n            left: `${mousePosition.x}px`,\n            top: `${mousePosition.y}px`,\n            backgroundImage: `url(${image})`,\n            backgroundSize: `${difficulty * 100}% ${difficulty * 100}%`,\n            backgroundPosition: pieces[draggedPiece].bgPosition\n          }}\n        />\n      )}\n    </GameContainer>\n  );\n};\n\nexport default PuzzleBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}