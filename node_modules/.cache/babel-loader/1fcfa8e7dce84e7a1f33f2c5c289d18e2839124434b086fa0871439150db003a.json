{"ast":null,"code":"/**\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the MIT License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TouchBackend = undefined;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nexports.default = createTouchBackend;\nvar _invariant = require('invariant');\nvar _invariant2 = _interopRequireDefault(_invariant);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction getEventClientTouchOffset(e) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  }\n}\nfunction getEventClientOffset(e) {\n  if (e.targetTouches) {\n    return getEventClientTouchOffset(e);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}\n\n// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n\n  // Used for e.button (note the lack of an s on the end).\n};\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n\n  /**\n   * Only touch events and mouse events where the left button is pressed should initiate a drag.\n   * @param {MouseEvent | TouchEvent} e The event\n   */\n};\nfunction eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\nfunction eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\n\n// Polyfill for document.elementsFromPoint\nvar elementsFromPoint = (typeof document !== 'undefined' && document.elementsFromPoint || function (x, y) {\n  if (document.msElementsFromPoint) {\n    // msElementsFromPoint is much faster but returns a node-list, so convert it to an array\n    var msElements = document.msElementsFromPoint(x, y);\n    return msElements && Array.prototype.slice.call(msElements, 0);\n  }\n  var elements = [],\n    previousPointerEvents = [],\n    current,\n    i,\n    d;\n\n  // get all elements via elementFromPoint, and remove them from hit-testing in order\n  while ((current = document.elementFromPoint(x, y)) && elements.indexOf(current) === -1 && current !== null) {\n    // push the element and its current style\n    elements.push(current);\n    previousPointerEvents.push({\n      value: current.style.getPropertyValue('pointer-events'),\n      priority: current.style.getPropertyPriority('pointer-events')\n    });\n\n    // add \"pointer-events: none\", to get to the underlying element\n    current.style.setProperty('pointer-events', 'none', 'important');\n  }\n\n  // restore the previous pointer-events values\n  for (i = previousPointerEvents.length; d = previousPointerEvents[--i];) {\n    elements[i].style.setProperty('pointer-events', d.value ? d.value : '', d.priority);\n  }\n\n  // return our results\n  return elements;\n}).bind(typeof document !== 'undefined' ? document : null);\nvar supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n  try {\n    addEventListener('test', null, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n      }\n    }));\n  } catch (e) {}\n  return supported;\n}();\nvar ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n  if (!el) {\n    return null;\n  }\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n    top = _el$getBoundingClient.top,\n    left = _el$getBoundingClient.left;\n  return {\n    x: left,\n    y: top\n  };\n}\nvar eventNames = {\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    end: 'mouseup',\n    contextmenu: 'contextmenu'\n  },\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    end: 'touchend'\n  },\n  keyboard: {\n    keydown: 'keydown'\n  }\n};\nvar TouchBackend = exports.TouchBackend = function () {\n  function TouchBackend(manager) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, TouchBackend);\n    options.delayTouchStart = options.delayTouchStart || options.delay;\n    options = _extends({\n      enableTouchEvents: true,\n      enableMouseEvents: false,\n      enableKeyboardEvents: false,\n      ignoreContextMenu: false,\n      delayTouchStart: 0,\n      delayMouseStart: 0,\n      touchSlop: 0\n    }, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enableKeyboardEvents = options.enableKeyboardEvents;\n    this.enableMouseEvents = options.enableMouseEvents;\n    this.delayTouchStart = options.delayTouchStart;\n    this.delayMouseStart = options.delayMouseStart;\n    this.ignoreContextMenu = options.ignoreContextMenu;\n    this.touchSlop = options.touchSlop;\n    this.sourceNodes = {};\n    this.sourceNodeOptions = {};\n    this.sourcePreviewNodes = {};\n    this.sourcePreviewNodeOptions = {};\n    this.targetNodes = {};\n    this.targetNodeOptions = {};\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    if (options.enableMouseEvents) {\n      this.listenerTypes.push('mouse');\n    }\n    if (options.enableTouchEvents) {\n      this.listenerTypes.push('touch');\n    }\n    if (options.enableKeyboardEvents) {\n      this.listenerTypes.push('keyboard');\n    }\n    this.getSourceClientOffset = this.getSourceClientOffset.bind(this);\n    this.handleTopMoveStart = this.handleTopMoveStart.bind(this);\n    this.handleTopMoveStartDelay = this.handleTopMoveStartDelay.bind(this);\n    this.handleTopMoveStartCapture = this.handleTopMoveStartCapture.bind(this);\n    this.handleTopMoveCapture = this.handleTopMoveCapture.bind(this);\n    this.handleTopMove = this.handleTopMove.bind(this);\n    this.handleTopMoveEndCapture = this.handleTopMoveEndCapture.bind(this);\n    this.handleCancelOnEscape = this.handleCancelOnEscape.bind(this);\n  }\n  _createClass(TouchBackend, [{\n    key: 'setup',\n    value: function setup() {\n      if (typeof window === 'undefined') {\n        return;\n      }\n      (0, _invariant2.default)(!this.constructor.isSetUp, 'Cannot have two Touch backends at the same time.');\n      this.constructor.isSetUp = true;\n      this.addEventListener(window, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(window, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(window, 'move', this.handleTopMove);\n      this.addEventListener(window, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(window, 'end', this.handleTopMoveEndCapture, true);\n      if (this.enableMouseEvents && !this.ignoreContextMenu) {\n        this.addEventListener(window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n      if (this.enableKeyboardEvents) {\n        this.addEventListener(window, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: 'teardown',\n    value: function teardown() {\n      if (typeof window === 'undefined') {\n        return;\n      }\n      this.constructor.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(window, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(window, 'start', this.handleTopMoveStart);\n      this.removeEventListener(window, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(window, 'move', this.handleTopMove);\n      this.removeEventListener(window, 'end', this.handleTopMoveEndCapture, true);\n      if (this.enableMouseEvents && !this.ignoreContextMenu) {\n        this.removeEventListener(window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n      if (this.enableKeyboardEvents) {\n        this.removeEventListener(window, 'keydown', this.handleCancelOnEscape, true);\n      }\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: 'connectDragSource',\n    value: function connectDragSource(sourceId, node, options) {\n      var _this = this;\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes[sourceId] = node;\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        delete _this.sourceNodes[sourceId];\n        _this.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: 'connectDragPreview',\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n      this.sourcePreviewNodeOptions[sourceId] = options;\n      this.sourcePreviewNodes[sourceId] = node;\n      return function () {\n        delete _this2.sourcePreviewNodes[sourceId];\n        delete _this2.sourcePreviewNodeOptions[sourceId];\n      };\n    }\n  }, {\n    key: 'connectDropTarget',\n    value: function connectDropTarget(targetId, node) {\n      var _this3 = this;\n      var handleMove = function handleMove(e) {\n        var coords = void 0;\n        if (!_this3.monitor.isDragging()) {\n          return;\n        }\n\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n        var droppedOn = document.elementFromPoint(coords.x, coords.y);\n        var childMatch = node.contains(droppedOn);\n        if (droppedOn === node || childMatch) {\n          return _this3.handleMove(e, targetId);\n        }\n      };\n\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n      this.addEventListener(document.querySelector('body'), 'move', handleMove);\n      this.targetNodes[targetId] = node;\n      return function () {\n        delete _this3.targetNodes[targetId];\n        _this3.removeEventListener(document.querySelector('body'), 'move', handleMove);\n      };\n    }\n  }, {\n    key: 'getSourceClientOffset',\n    value: function getSourceClientOffset(sourceId) {\n      return getNodeClientOffset(this.sourceNodes[sourceId]);\n    }\n  }, {\n    key: 'handleTopMoveStartCapture',\n    value: function handleTopMoveStartCapture(e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n      this.moveStartSourceIds = [];\n    }\n  }, {\n    key: 'handleMoveStart',\n    value: function handleMoveStart(sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(this.moveStartSourceIds)) {\n        this.moveStartSourceIds.unshift(sourceId);\n      }\n    }\n  }, {\n    key: 'getTopMoveStartHandler',\n    value: function getTopMoveStartHandler() {\n      if (!this.delayTouchStart && !this.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: 'handleTopMoveStart',\n    value: function handleTopMoveStart(e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n      var clientOffset = getEventClientOffset(e);\n      if (clientOffset) {\n        this._mouseClientOffset = clientOffset;\n      }\n      this.waitingForDelay = false;\n    }\n  }, {\n    key: 'handleTopMoveStartDelay',\n    value: function handleTopMoveStartDelay(e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n      var delay = e.type === eventNames.touch.start ? this.delayTouchStart : this.delayMouseStart;\n      this.timeout = setTimeout(this.handleTopMoveStart.bind(this, e), delay);\n      this.waitingForDelay = true;\n    }\n  }, {\n    key: 'handleTopMoveCapture',\n    value: function handleTopMoveCapture(e) {\n      this.dragOverTargetIds = [];\n    }\n  }, {\n    key: 'handleMove',\n    value: function handleMove(e, targetId) {\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: 'handleTopMove',\n    value: function handleTopMove(e) {\n      var _this4 = this;\n      clearTimeout(this.timeout);\n      if (this.waitingForDelay) {\n        return;\n      }\n      var moveStartSourceIds = this.moveStartSourceIds,\n        dragOverTargetIds = this.dragOverTargetIds;\n      var clientOffset = getEventClientOffset(e);\n      if (!clientOffset) {\n        return;\n      }\n\n      // If we're not dragging and we've moved a little, that counts as a drag start\n      if (!this.monitor.isDragging() && this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(this._mouseClientOffset.x, this._mouseClientOffset.y, clientOffset.x, clientOffset.y) > (this.touchSlop ? this.touchSlop : 0)) {\n        this.moveStartSourceIds = null;\n        this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: this._mouseClientOffset,\n          getSourceClientOffset: this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n      if (!this.monitor.isDragging()) {\n        return;\n      }\n      var sourceNode = this.sourceNodes[this.monitor.getSourceId()];\n      this.installSourceNodeRemovalObserver(sourceNode);\n      this.actions.publishDragSource();\n      e.preventDefault();\n\n      // Get the node elements of the hovered DropTargets\n      var dragOverTargetNodes = dragOverTargetIds.map(function (key) {\n        return _this4.targetNodes[key];\n      });\n      // Get the a ordered list of nodes that are touched by\n      var elementsAtPoint = elementsFromPoint(clientOffset.x, clientOffset.y);\n      // Extend list with SVG parents that are not receiving elementsFromPoint events (svg groups)\n      var elementsAtPointExtended = [];\n      for (var nodeId in elementsAtPoint) {\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n        // Is currentNode an SVG element\n        while (currentNode && currentNode.ownerSVGElement) {\n          currentNode = currentNode.parentElement;\n          if (!elementsAtPointExtended.includes(currentNode)) elementsAtPointExtended.push(currentNode);\n        }\n      }\n      var orderedDragOverTargetIds = elementsAtPointExtended\n      // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      })\n      // Map back the nodes elements to targetIds\n      .map(function (node) {\n        for (var targetId in _this4.targetNodes) {\n          if (node === _this4.targetNodes[targetId]) return targetId;\n        }\n        return null;\n      })\n      // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      });\n\n      // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n      orderedDragOverTargetIds.reverse();\n      this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    }\n  }, {\n    key: 'handleTopMoveEndCapture',\n    value: function handleTopMoveEndCapture(e) {\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n      if (!this.monitor.isDragging() || this.monitor.didDrop()) {\n        this.moveStartSourceIds = null;\n        return;\n      }\n      e.preventDefault();\n      this._mouseClientOffset = {};\n      this.uninstallSourceNodeRemovalObserver();\n      this.actions.drop();\n      this.actions.endDrag();\n    }\n  }, {\n    key: 'handleCancelOnEscape',\n    value: function handleCancelOnEscape(e) {\n      if (e.key === 'Escape') {\n        this._mouseClientOffset = {};\n        this.uninstallSourceNodeRemovalObserver();\n        this.actions.endDrag();\n      }\n    }\n  }, {\n    key: 'handleOnContextMenu',\n    value: function handleOnContextMenu() {\n      this.moveStartSourceIds = null;\n    }\n  }, {\n    key: 'installSourceNodeRemovalObserver',\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new window.MutationObserver(function () {\n        if (!node.parentElement) {\n          _this5.resurrectSourceNode();\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n      if (!node || !node.parentElement) {\n        return;\n      }\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: 'resurrectSourceNode',\n    value: function resurrectSourceNode() {\n      this.draggedSourceNode.style.display = 'none';\n      this.draggedSourceNode.removeAttribute('data-reactid');\n      document.body.appendChild(this.draggedSourceNode);\n    }\n  }, {\n    key: 'uninstallSourceNodeRemovalObserver',\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n      this.draggedSourceNodeRemovalObserver = null;\n      this.draggedSourceNode = null;\n    }\n  }]);\n  return TouchBackend;\n}();\nfunction createTouchBackend() {\n  var optionsOrManager = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var touchBackendFactory = function touchBackendFactory(manager) {\n    return new TouchBackend(manager, optionsOrManager);\n  };\n  if (optionsOrManager.getMonitor) {\n    return touchBackendFactory(optionsOrManager);\n  } else {\n    return touchBackendFactory;\n  }\n}\nfunction distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","TouchBackend","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","default","createTouchBackend","_invariant","require","_invariant2","_interopRequireDefault","obj","__esModule","_classCallCheck","instance","TypeError","getEventClientTouchOffset","e","targetTouches","getEventClientOffset","x","clientX","y","clientY","MouseButtons","Left","Right","Center","MouseButton","eventShouldStartDrag","button","eventShouldEndDrag","buttons","elementsFromPoint","document","msElementsFromPoint","msElements","Array","slice","elements","previousPointerEvents","current","d","elementFromPoint","indexOf","push","style","getPropertyValue","priority","getPropertyPriority","setProperty","bind","supportsPassive","supported","addEventListener","get","ELEMENT_NODE","getNodeClientOffset","node","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","eventNames","mouse","start","move","end","contextmenu","touch","keyboard","keydown","manager","options","delayTouchStart","delay","enableTouchEvents","enableMouseEvents","enableKeyboardEvents","ignoreContextMenu","delayMouseStart","touchSlop","actions","getActions","monitor","getMonitor","registry","getRegistry","sourceNodes","sourceNodeOptions","sourcePreviewNodes","sourcePreviewNodeOptions","targetNodes","targetNodeOptions","listenerTypes","_mouseClientOffset","getSourceClientOffset","handleTopMoveStart","handleTopMoveStartDelay","handleTopMoveStartCapture","handleTopMoveCapture","handleTopMove","handleTopMoveEndCapture","handleCancelOnEscape","setup","window","constructor","isSetUp","getTopMoveStartHandler","teardown","removeEventListener","uninstallSourceNodeRemovalObserver","subject","event","handler","capture","passive","forEach","listenerType","evt","connectDragSource","sourceId","_this","handleMoveStart","connectDragPreview","_this2","connectDropTarget","targetId","_this3","handleMove","coords","isDragging","type","touches","droppedOn","childMatch","contains","querySelector","moveStartSourceIds","isArray","unshift","clientOffset","waitingForDelay","timeout","setTimeout","dragOverTargetIds","_this4","clearTimeout","distance","beginDrag","publishSource","sourceNode","getSourceId","installSourceNodeRemovalObserver","publishDragSource","preventDefault","dragOverTargetNodes","map","elementsAtPoint","elementsAtPointExtended","nodeId","currentNode","ownerSVGElement","includes","orderedDragOverTargetIds","filter","id","index","ids","reverse","hover","didDrop","drop","endDrag","handleOnContextMenu","_this5","draggedSourceNode","draggedSourceNodeRemovalObserver","MutationObserver","resurrectSourceNode","observe","childList","display","removeAttribute","body","appendChild","disconnect","optionsOrManager","touchBackendFactory","x1","y1","x2","y2","Math","sqrt","pow","abs"],"sources":["C:/Users/osqel/OneDrive/Desktop/New folder/node_modules/react-dnd-touch-backend/dist/Touch.js"],"sourcesContent":["/**\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the MIT License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TouchBackend = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = createTouchBackend;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getEventClientTouchOffset(e) {\n    if (e.targetTouches.length === 1) {\n        return getEventClientOffset(e.targetTouches[0]);\n    }\n}\n\nfunction getEventClientOffset(e) {\n    if (e.targetTouches) {\n        return getEventClientTouchOffset(e);\n    } else {\n        return {\n            x: e.clientX,\n            y: e.clientY\n        };\n    }\n}\n\n// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n    Left: 1,\n    Right: 2,\n    Center: 4\n\n    // Used for e.button (note the lack of an s on the end).\n};var MouseButton = {\n    Left: 0,\n    Center: 1,\n    Right: 2\n\n    /**\n     * Only touch events and mouse events where the left button is pressed should initiate a drag.\n     * @param {MouseEvent | TouchEvent} e The event\n     */\n};function eventShouldStartDrag(e) {\n    // For touch events, button will be undefined. If e.button is defined,\n    // then it should be MouseButton.Left.\n    return e.button === undefined || e.button === MouseButton.Left;\n}\n\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\nfunction eventShouldEndDrag(e) {\n    // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n    // bit field unset if the left mouse button has been released\n    return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\n\n// Polyfill for document.elementsFromPoint\nvar elementsFromPoint = (typeof document !== 'undefined' && document.elementsFromPoint || function (x, y) {\n\n    if (document.msElementsFromPoint) {\n        // msElementsFromPoint is much faster but returns a node-list, so convert it to an array\n        var msElements = document.msElementsFromPoint(x, y);\n        return msElements && Array.prototype.slice.call(msElements, 0);\n    }\n\n    var elements = [],\n        previousPointerEvents = [],\n        current,\n        i,\n        d;\n\n    // get all elements via elementFromPoint, and remove them from hit-testing in order\n    while ((current = document.elementFromPoint(x, y)) && elements.indexOf(current) === -1 && current !== null) {\n\n        // push the element and its current style\n        elements.push(current);\n        previousPointerEvents.push({\n            value: current.style.getPropertyValue('pointer-events'),\n            priority: current.style.getPropertyPriority('pointer-events')\n        });\n\n        // add \"pointer-events: none\", to get to the underlying element\n        current.style.setProperty('pointer-events', 'none', 'important');\n    }\n\n    // restore the previous pointer-events values\n    for (i = previousPointerEvents.length; d = previousPointerEvents[--i];) {\n        elements[i].style.setProperty('pointer-events', d.value ? d.value : '', d.priority);\n    }\n\n    // return our results\n    return elements;\n}).bind(typeof document !== 'undefined' ? document : null);\n\nvar supportsPassive = function () {\n    // simular to jQuery's test\n    var supported = false;\n    try {\n        addEventListener('test', null, Object.defineProperty({}, 'passive', {\n            get: function get() {\n                supported = true;\n            }\n        }));\n    } catch (e) {}\n    return supported;\n}();\n\nvar ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n    var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n    if (!el) {\n        return null;\n    }\n\n    var _el$getBoundingClient = el.getBoundingClientRect(),\n        top = _el$getBoundingClient.top,\n        left = _el$getBoundingClient.left;\n\n    return { x: left, y: top };\n}\n\nvar eventNames = {\n    mouse: {\n        start: 'mousedown',\n        move: 'mousemove',\n        end: 'mouseup',\n        contextmenu: 'contextmenu'\n    },\n    touch: {\n        start: 'touchstart',\n        move: 'touchmove',\n        end: 'touchend'\n    },\n    keyboard: {\n        keydown: 'keydown'\n    }\n};\n\nvar TouchBackend = exports.TouchBackend = function () {\n    function TouchBackend(manager) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, TouchBackend);\n\n        options.delayTouchStart = options.delayTouchStart || options.delay;\n\n        options = _extends({\n            enableTouchEvents: true,\n            enableMouseEvents: false,\n            enableKeyboardEvents: false,\n            ignoreContextMenu: false,\n            delayTouchStart: 0,\n            delayMouseStart: 0,\n            touchSlop: 0\n        }, options);\n\n        this.actions = manager.getActions();\n        this.monitor = manager.getMonitor();\n        this.registry = manager.getRegistry();\n\n        this.enableKeyboardEvents = options.enableKeyboardEvents;\n        this.enableMouseEvents = options.enableMouseEvents;\n        this.delayTouchStart = options.delayTouchStart;\n        this.delayMouseStart = options.delayMouseStart;\n        this.ignoreContextMenu = options.ignoreContextMenu;\n        this.touchSlop = options.touchSlop;\n        this.sourceNodes = {};\n        this.sourceNodeOptions = {};\n        this.sourcePreviewNodes = {};\n        this.sourcePreviewNodeOptions = {};\n        this.targetNodes = {};\n        this.targetNodeOptions = {};\n        this.listenerTypes = [];\n        this._mouseClientOffset = {};\n\n        if (options.enableMouseEvents) {\n            this.listenerTypes.push('mouse');\n        }\n\n        if (options.enableTouchEvents) {\n            this.listenerTypes.push('touch');\n        }\n\n        if (options.enableKeyboardEvents) {\n            this.listenerTypes.push('keyboard');\n        }\n\n        this.getSourceClientOffset = this.getSourceClientOffset.bind(this);\n        this.handleTopMoveStart = this.handleTopMoveStart.bind(this);\n        this.handleTopMoveStartDelay = this.handleTopMoveStartDelay.bind(this);\n        this.handleTopMoveStartCapture = this.handleTopMoveStartCapture.bind(this);\n        this.handleTopMoveCapture = this.handleTopMoveCapture.bind(this);\n        this.handleTopMove = this.handleTopMove.bind(this);\n        this.handleTopMoveEndCapture = this.handleTopMoveEndCapture.bind(this);\n        this.handleCancelOnEscape = this.handleCancelOnEscape.bind(this);\n    }\n\n    _createClass(TouchBackend, [{\n        key: 'setup',\n        value: function setup() {\n            if (typeof window === 'undefined') {\n                return;\n            }\n\n            (0, _invariant2.default)(!this.constructor.isSetUp, 'Cannot have two Touch backends at the same time.');\n            this.constructor.isSetUp = true;\n\n            this.addEventListener(window, 'start', this.getTopMoveStartHandler());\n            this.addEventListener(window, 'start', this.handleTopMoveStartCapture, true);\n            this.addEventListener(window, 'move', this.handleTopMove);\n            this.addEventListener(window, 'move', this.handleTopMoveCapture, true);\n            this.addEventListener(window, 'end', this.handleTopMoveEndCapture, true);\n\n            if (this.enableMouseEvents && !this.ignoreContextMenu) {\n                this.addEventListener(window, 'contextmenu', this.handleTopMoveEndCapture);\n            }\n\n            if (this.enableKeyboardEvents) {\n                this.addEventListener(window, 'keydown', this.handleCancelOnEscape, true);\n            }\n        }\n    }, {\n        key: 'teardown',\n        value: function teardown() {\n            if (typeof window === 'undefined') {\n                return;\n            }\n\n            this.constructor.isSetUp = false;\n            this._mouseClientOffset = {};\n\n            this.removeEventListener(window, 'start', this.handleTopMoveStartCapture, true);\n            this.removeEventListener(window, 'start', this.handleTopMoveStart);\n            this.removeEventListener(window, 'move', this.handleTopMoveCapture, true);\n            this.removeEventListener(window, 'move', this.handleTopMove);\n            this.removeEventListener(window, 'end', this.handleTopMoveEndCapture, true);\n\n            if (this.enableMouseEvents && !this.ignoreContextMenu) {\n                this.removeEventListener(window, 'contextmenu', this.handleTopMoveEndCapture);\n            }\n\n            if (this.enableKeyboardEvents) {\n                this.removeEventListener(window, 'keydown', this.handleCancelOnEscape, true);\n            }\n\n            this.uninstallSourceNodeRemovalObserver();\n        }\n    }, {\n        key: 'addEventListener',\n        value: function addEventListener(subject, event, handler, capture) {\n            var options = supportsPassive ? { capture: capture, passive: false } : capture;\n\n            this.listenerTypes.forEach(function (listenerType) {\n                var evt = eventNames[listenerType][event];\n\n                if (evt) {\n                    subject.addEventListener(evt, handler, options);\n                }\n            });\n        }\n    }, {\n        key: 'removeEventListener',\n        value: function removeEventListener(subject, event, handler, capture) {\n            var options = supportsPassive ? { capture: capture, passive: false } : capture;\n\n            this.listenerTypes.forEach(function (listenerType) {\n                var evt = eventNames[listenerType][event];\n\n                if (evt) {\n                    subject.removeEventListener(evt, handler, options);\n                }\n            });\n        }\n    }, {\n        key: 'connectDragSource',\n        value: function connectDragSource(sourceId, node, options) {\n            var _this = this;\n\n            var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n            this.sourceNodes[sourceId] = node;\n\n            this.addEventListener(node, 'start', handleMoveStart);\n\n            return function () {\n                delete _this.sourceNodes[sourceId];\n                _this.removeEventListener(node, 'start', handleMoveStart);\n            };\n        }\n    }, {\n        key: 'connectDragPreview',\n        value: function connectDragPreview(sourceId, node, options) {\n            var _this2 = this;\n\n            this.sourcePreviewNodeOptions[sourceId] = options;\n            this.sourcePreviewNodes[sourceId] = node;\n\n            return function () {\n                delete _this2.sourcePreviewNodes[sourceId];\n                delete _this2.sourcePreviewNodeOptions[sourceId];\n            };\n        }\n    }, {\n        key: 'connectDropTarget',\n        value: function connectDropTarget(targetId, node) {\n            var _this3 = this;\n\n            var handleMove = function handleMove(e) {\n                var coords = void 0;\n\n                if (!_this3.monitor.isDragging()) {\n                    return;\n                }\n\n                /**\n                 * Grab the coordinates for the current mouse/touch position\n                 */\n                switch (e.type) {\n                    case eventNames.mouse.move:\n                        coords = { x: e.clientX, y: e.clientY };\n                        break;\n\n                    case eventNames.touch.move:\n                        coords = { x: e.touches[0].clientX, y: e.touches[0].clientY };\n                        break;\n                }\n\n                /**\n                 * Use the coordinates to grab the element the drag ended on.\n                 * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n                 */\n                var droppedOn = document.elementFromPoint(coords.x, coords.y);\n                var childMatch = node.contains(droppedOn);\n\n                if (droppedOn === node || childMatch) {\n                    return _this3.handleMove(e, targetId);\n                }\n            };\n\n            /**\n             * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n             */\n            this.addEventListener(document.querySelector('body'), 'move', handleMove);\n            this.targetNodes[targetId] = node;\n\n            return function () {\n                delete _this3.targetNodes[targetId];\n                _this3.removeEventListener(document.querySelector('body'), 'move', handleMove);\n            };\n        }\n    }, {\n        key: 'getSourceClientOffset',\n        value: function getSourceClientOffset(sourceId) {\n            return getNodeClientOffset(this.sourceNodes[sourceId]);\n        }\n    }, {\n        key: 'handleTopMoveStartCapture',\n        value: function handleTopMoveStartCapture(e) {\n            if (!eventShouldStartDrag(e)) {\n                return;\n            }\n\n            this.moveStartSourceIds = [];\n        }\n    }, {\n        key: 'handleMoveStart',\n        value: function handleMoveStart(sourceId) {\n            // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n            // We only collect start collecting drag sources on touch and left mouse events.\n            if (Array.isArray(this.moveStartSourceIds)) {\n                this.moveStartSourceIds.unshift(sourceId);\n            }\n        }\n    }, {\n        key: 'getTopMoveStartHandler',\n        value: function getTopMoveStartHandler() {\n            if (!this.delayTouchStart && !this.delayMouseStart) {\n                return this.handleTopMoveStart;\n            }\n\n            return this.handleTopMoveStartDelay;\n        }\n    }, {\n        key: 'handleTopMoveStart',\n        value: function handleTopMoveStart(e) {\n            if (!eventShouldStartDrag(e)) {\n                return;\n            }\n\n            // Don't prematurely preventDefault() here since it might:\n            // 1. Mess up scrolling\n            // 2. Mess up long tap (which brings up context menu)\n            // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n            var clientOffset = getEventClientOffset(e);\n            if (clientOffset) {\n                this._mouseClientOffset = clientOffset;\n            }\n            this.waitingForDelay = false;\n        }\n    }, {\n        key: 'handleTopMoveStartDelay',\n        value: function handleTopMoveStartDelay(e) {\n            if (!eventShouldStartDrag(e)) {\n                return;\n            }\n\n            var delay = e.type === eventNames.touch.start ? this.delayTouchStart : this.delayMouseStart;\n            this.timeout = setTimeout(this.handleTopMoveStart.bind(this, e), delay);\n            this.waitingForDelay = true;\n        }\n    }, {\n        key: 'handleTopMoveCapture',\n        value: function handleTopMoveCapture(e) {\n            this.dragOverTargetIds = [];\n        }\n    }, {\n        key: 'handleMove',\n        value: function handleMove(e, targetId) {\n            this.dragOverTargetIds.unshift(targetId);\n        }\n    }, {\n        key: 'handleTopMove',\n        value: function handleTopMove(e) {\n            var _this4 = this;\n\n            clearTimeout(this.timeout);\n            if (this.waitingForDelay) {\n                return;\n            }\n\n            var moveStartSourceIds = this.moveStartSourceIds,\n                dragOverTargetIds = this.dragOverTargetIds;\n\n            var clientOffset = getEventClientOffset(e);\n\n            if (!clientOffset) {\n                return;\n            }\n\n            // If we're not dragging and we've moved a little, that counts as a drag start\n            if (!this.monitor.isDragging() && this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(this._mouseClientOffset.x, this._mouseClientOffset.y, clientOffset.x, clientOffset.y) > (this.touchSlop ? this.touchSlop : 0)) {\n                this.moveStartSourceIds = null;\n                this.actions.beginDrag(moveStartSourceIds, {\n                    clientOffset: this._mouseClientOffset,\n                    getSourceClientOffset: this.getSourceClientOffset,\n                    publishSource: false\n                });\n            }\n\n            if (!this.monitor.isDragging()) {\n                return;\n            }\n\n            var sourceNode = this.sourceNodes[this.monitor.getSourceId()];\n            this.installSourceNodeRemovalObserver(sourceNode);\n            this.actions.publishDragSource();\n\n            e.preventDefault();\n\n            // Get the node elements of the hovered DropTargets\n            var dragOverTargetNodes = dragOverTargetIds.map(function (key) {\n                return _this4.targetNodes[key];\n            });\n            // Get the a ordered list of nodes that are touched by\n            var elementsAtPoint = elementsFromPoint(clientOffset.x, clientOffset.y);\n            // Extend list with SVG parents that are not receiving elementsFromPoint events (svg groups)\n            var elementsAtPointExtended = [];\n            for (var nodeId in elementsAtPoint) {\n                var currentNode = elementsAtPoint[nodeId];\n                elementsAtPointExtended.push(currentNode);\n                // Is currentNode an SVG element\n                while (currentNode && currentNode.ownerSVGElement) {\n                    currentNode = currentNode.parentElement;\n                    if (!elementsAtPointExtended.includes(currentNode)) elementsAtPointExtended.push(currentNode);\n                }\n            }\n            var orderedDragOverTargetIds = elementsAtPointExtended\n            // Filter off nodes that arent a hovered DropTargets nodes\n            .filter(function (node) {\n                return dragOverTargetNodes.indexOf(node) > -1;\n            })\n            // Map back the nodes elements to targetIds\n            .map(function (node) {\n                for (var targetId in _this4.targetNodes) {\n                    if (node === _this4.targetNodes[targetId]) return targetId;\n                }\n                return null;\n            })\n            // Filter off possible null rows\n            .filter(function (node) {\n                return !!node;\n            }).filter(function (id, index, ids) {\n                return ids.indexOf(id) === index;\n            });\n\n            // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n            orderedDragOverTargetIds.reverse();\n\n            this.actions.hover(orderedDragOverTargetIds, {\n                clientOffset: clientOffset\n            });\n        }\n    }, {\n        key: 'handleTopMoveEndCapture',\n        value: function handleTopMoveEndCapture(e) {\n            if (!eventShouldEndDrag(e)) {\n                return;\n            }\n\n            if (!this.monitor.isDragging() || this.monitor.didDrop()) {\n                this.moveStartSourceIds = null;\n                return;\n            }\n\n            e.preventDefault();\n\n            this._mouseClientOffset = {};\n\n            this.uninstallSourceNodeRemovalObserver();\n            this.actions.drop();\n            this.actions.endDrag();\n        }\n    }, {\n        key: 'handleCancelOnEscape',\n        value: function handleCancelOnEscape(e) {\n            if (e.key === 'Escape') {\n                this._mouseClientOffset = {};\n\n                this.uninstallSourceNodeRemovalObserver();\n                this.actions.endDrag();\n            }\n        }\n    }, {\n        key: 'handleOnContextMenu',\n        value: function handleOnContextMenu() {\n            this.moveStartSourceIds = null;\n        }\n    }, {\n        key: 'installSourceNodeRemovalObserver',\n        value: function installSourceNodeRemovalObserver(node) {\n            var _this5 = this;\n\n            this.uninstallSourceNodeRemovalObserver();\n\n            this.draggedSourceNode = node;\n            this.draggedSourceNodeRemovalObserver = new window.MutationObserver(function () {\n                if (!node.parentElement) {\n                    _this5.resurrectSourceNode();\n                    _this5.uninstallSourceNodeRemovalObserver();\n                }\n            });\n\n            if (!node || !node.parentElement) {\n                return;\n            }\n\n            this.draggedSourceNodeRemovalObserver.observe(node.parentElement, { childList: true });\n        }\n    }, {\n        key: 'resurrectSourceNode',\n        value: function resurrectSourceNode() {\n            this.draggedSourceNode.style.display = 'none';\n            this.draggedSourceNode.removeAttribute('data-reactid');\n            document.body.appendChild(this.draggedSourceNode);\n        }\n    }, {\n        key: 'uninstallSourceNodeRemovalObserver',\n        value: function uninstallSourceNodeRemovalObserver() {\n            if (this.draggedSourceNodeRemovalObserver) {\n                this.draggedSourceNodeRemovalObserver.disconnect();\n            }\n\n            this.draggedSourceNodeRemovalObserver = null;\n            this.draggedSourceNode = null;\n        }\n    }]);\n\n    return TouchBackend;\n}();\n\nfunction createTouchBackend() {\n    var optionsOrManager = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var touchBackendFactory = function touchBackendFactory(manager) {\n        return new TouchBackend(manager, optionsOrManager);\n    };\n\n    if (optionsOrManager.getMonitor) {\n        return touchBackendFactory(optionsOrManager);\n    } else {\n        return touchBackendFactory;\n    }\n}\n\nfunction distance(x1, y1, x2, y2) {\n    return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}