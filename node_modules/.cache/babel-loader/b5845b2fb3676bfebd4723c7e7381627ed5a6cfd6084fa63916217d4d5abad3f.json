{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}(); /* eslint-disable no-underscore-dangle */\n\nvar _defaults = require('lodash/defaults');\nvar _defaults2 = _interopRequireDefault(_defaults);\nvar _shallowEqual = require('./shallowEqual');\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\nvar _EnterLeaveCounter = require('./EnterLeaveCounter');\nvar _EnterLeaveCounter2 = _interopRequireDefault(_EnterLeaveCounter);\nvar _BrowserDetector = require('./BrowserDetector');\nvar _OffsetUtils = require('./OffsetUtils');\nvar _NativeDragSources = require('./NativeDragSources');\nvar _NativeTypes = require('./NativeTypes');\nvar NativeTypes = _interopRequireWildcard(_NativeTypes);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar HTML5Backend = function () {\n  function HTML5Backend(manager) {\n    _classCallCheck(this, HTML5Backend);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.context = manager.getContext();\n    this.sourcePreviewNodes = {};\n    this.sourcePreviewNodeOptions = {};\n    this.sourceNodes = {};\n    this.sourceNodeOptions = {};\n    this.enterLeaveCounter = new _EnterLeaveCounter2.default();\n    this.dragStartSourceIds = [];\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.currentDragSourceNodeOffset = null;\n    this.currentDragSourceNodeOffsetChanged = false;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.getSourceClientOffset = this.getSourceClientOffset.bind(this);\n    this.handleTopDragStart = this.handleTopDragStart.bind(this);\n    this.handleTopDragStartCapture = this.handleTopDragStartCapture.bind(this);\n    this.handleTopDragEndCapture = this.handleTopDragEndCapture.bind(this);\n    this.handleTopDragEnter = this.handleTopDragEnter.bind(this);\n    this.handleTopDragEnterCapture = this.handleTopDragEnterCapture.bind(this);\n    this.handleTopDragLeaveCapture = this.handleTopDragLeaveCapture.bind(this);\n    this.handleTopDragOver = this.handleTopDragOver.bind(this);\n    this.handleTopDragOverCapture = this.handleTopDragOverCapture.bind(this);\n    this.handleTopDrop = this.handleTopDrop.bind(this);\n    this.handleTopDropCapture = this.handleTopDropCapture.bind(this);\n    this.handleSelectStart = this.handleSelectStart.bind(this);\n    this.endDragIfSourceWasRemovedFromDOM = this.endDragIfSourceWasRemovedFromDOM.bind(this);\n    this.endDragNativeItem = this.endDragNativeItem.bind(this);\n    this.asyncEndDragNativeItem = this.asyncEndDragNativeItem.bind(this);\n    this.isNodeInDocument = this.isNodeInDocument.bind(this);\n  }\n  _createClass(HTML5Backend, [{\n    key: 'setup',\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: 'teardown',\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: 'addEventListeners',\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: 'removeEventListeners',\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: 'connectDragPreview',\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this = this;\n      this.sourcePreviewNodeOptions[sourceId] = options;\n      this.sourcePreviewNodes[sourceId] = node;\n      return function () {\n        delete _this.sourcePreviewNodes[sourceId];\n        delete _this.sourcePreviewNodeOptions[sourceId];\n      };\n    }\n  }, {\n    key: 'connectDragSource',\n    value: function connectDragSource(sourceId, node, options) {\n      var _this2 = this;\n      this.sourceNodes[sourceId] = node;\n      this.sourceNodeOptions[sourceId] = options;\n      var handleDragStart = function handleDragStart(e) {\n        return _this2.handleDragStart(e, sourceId);\n      };\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this2.handleSelectStart(e, sourceId);\n      };\n      node.setAttribute('draggable', true);\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        delete _this2.sourceNodes[sourceId];\n        delete _this2.sourceNodeOptions[sourceId];\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', false);\n      };\n    }\n  }, {\n    key: 'connectDropTarget',\n    value: function connectDropTarget(targetId, node) {\n      var _this3 = this;\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this3.handleDragEnter(e, targetId);\n      };\n      var handleDragOver = function handleDragOver(e) {\n        return _this3.handleDragOver(e, targetId);\n      };\n      var handleDrop = function handleDrop(e) {\n        return _this3.handleDrop(e, targetId);\n      };\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: 'getCurrentSourceNodeOptions',\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions[sourceId];\n      return (0, _defaults2.default)(sourceNodeOptions || {}, {\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      });\n    }\n  }, {\n    key: 'getCurrentDropEffect',\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: 'getCurrentSourcePreviewNodeOptions',\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions[sourceId];\n      return (0, _defaults2.default)(sourcePreviewNodeOptions || {}, {\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      });\n    }\n  }, {\n    key: 'getSourceClientOffset',\n    value: function getSourceClientOffset(sourceId) {\n      return (0, _OffsetUtils.getNodeClientOffset)(this.sourceNodes[sourceId]);\n    }\n  }, {\n    key: 'isDraggingNativeItem',\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: 'beginDragNativeItem',\n    value: function beginDragNativeItem(type) {\n      this.clearCurrentDragSourceNode();\n      var SourceType = (0, _NativeDragSources.createNativeDragSource)(type);\n      this.currentNativeSource = new SourceType();\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: 'asyncEndDragNativeItem',\n    value: function asyncEndDragNativeItem() {\n      this.asyncEndDragFrameId = this.window.requestAnimationFrame(this.endDragNativeItem);\n    }\n  }, {\n    key: 'endDragNativeItem',\n    value: function endDragNativeItem() {\n      if (!this.isDraggingNativeItem()) {\n        return;\n      }\n      this.actions.endDrag();\n      this.registry.removeSource(this.currentNativeHandle);\n      this.currentNativeHandle = null;\n      this.currentNativeSource = null;\n    }\n  }, {\n    key: 'isNodeInDocument',\n    value: function isNodeInDocument(node) {\n      // Check the node either in the main document or in the current context\n      return document.body.contains(node) || this.window ? this.window.document.body.contains(node) : false;\n    }\n  }, {\n    key: 'endDragIfSourceWasRemovedFromDOM',\n    value: function endDragIfSourceWasRemovedFromDOM() {\n      var node = this.currentDragSourceNode;\n      if (this.isNodeInDocument(node)) {\n        return;\n      }\n      if (this.clearCurrentDragSourceNode()) {\n        this.actions.endDrag();\n      }\n    }\n  }, {\n    key: 'setCurrentDragSourceNode',\n    value: function setCurrentDragSourceNode(node) {\n      var _this4 = this;\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node;\n      this.currentDragSourceNodeOffset = (0, _OffsetUtils.getNodeClientOffset)(node);\n      this.currentDragSourceNodeOffsetChanged = false;\n\n      // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      var MOUSE_MOVE_TIMEOUT = 1000;\n\n      // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        _this4.mouseMoveTimeoutId = null;\n        return _this4.window.addEventListener('mousemove', _this4.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: 'clearCurrentDragSourceNode',\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n        this.currentDragSourceNodeOffset = null;\n        this.currentDragSourceNodeOffsetChanged = false;\n        this.window.clearTimeout(this.mouseMoveTimeoutTimer);\n        this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'checkIfCurrentDragSourceRectChanged',\n    value: function checkIfCurrentDragSourceRectChanged() {\n      var node = this.currentDragSourceNode;\n      if (!node) {\n        return false;\n      }\n      if (this.currentDragSourceNodeOffsetChanged) {\n        return true;\n      }\n      this.currentDragSourceNodeOffsetChanged = !(0, _shallowEqual2.default)((0, _OffsetUtils.getNodeClientOffset)(node), this.currentDragSourceNodeOffset);\n      return this.currentDragSourceNodeOffsetChanged;\n    }\n  }, {\n    key: 'handleTopDragStartCapture',\n    value: function handleTopDragStartCapture() {\n      this.clearCurrentDragSourceNode();\n      this.dragStartSourceIds = [];\n    }\n  }, {\n    key: 'handleDragStart',\n    value: function handleDragStart(e, sourceId) {\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: 'handleTopDragStart',\n    value: function handleTopDragStart(e) {\n      var _this5 = this;\n      var dragStartSourceIds = this.dragStartSourceIds;\n      this.dragStartSourceIds = null;\n      var clientOffset = (0, _OffsetUtils.getEventClientOffset)(e);\n\n      // Avoid crashing if we missed a drop event or our previous drag died\n      if (this.monitor.isDragging()) {\n        this.actions.endDrag();\n      }\n\n      // Don't publish the source just yet (see why below)\n      this.actions.beginDrag(dragStartSourceIds, {\n        publishSource: false,\n        getSourceClientOffset: this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n      var dataTransfer = e.dataTransfer;\n      var nativeType = (0, _NativeDragSources.matchNativeItemType)(dataTransfer);\n      if (this.monitor.isDragging()) {\n        if (typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = this.monitor.getSourceId();\n          var sourceNode = this.sourceNodes[sourceId];\n          var dragPreview = this.sourcePreviewNodes[sourceId] || sourceNode;\n          var _getCurrentSourcePrev = this.getCurrentSourcePreviewNodeOptions(),\n            anchorX = _getCurrentSourcePrev.anchorX,\n            anchorY = _getCurrentSourcePrev.anchorY,\n            offsetX = _getCurrentSourcePrev.offsetX,\n            offsetY = _getCurrentSourcePrev.offsetY;\n          var anchorPoint = {\n            anchorX: anchorX,\n            anchorY: anchorY\n          };\n          var offsetPoint = {\n            offsetX: offsetX,\n            offsetY: offsetY\n          };\n          var dragPreviewOffset = (0, _OffsetUtils.getDragPreviewOffset)(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n          dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n        }\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {}\n        // IE doesn't support MIME types in setData\n\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n        this.setCurrentDragSourceNode(e.target);\n\n        // Now we are ready to publish the drag source.. or are we not?\n\n        var _getCurrentSourcePrev2 = this.getCurrentSourcePreviewNodeOptions(),\n          captureDraggingState = _getCurrentSourcePrev2.captureDraggingState;\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this5.actions.publishDragSource();\n          });\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        this.beginDragNativeItem(nativeType);\n      } else if (!dataTransfer.types && (!e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return; // eslint-disable-line no-useless-return\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'handleTopDragEndCapture',\n    value: function handleTopDragEndCapture() {\n      if (this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        this.actions.endDrag();\n      }\n    }\n  }, {\n    key: 'handleTopDragEnterCapture',\n    value: function handleTopDragEnterCapture(e) {\n      this.dragEnterTargetIds = [];\n      var isFirstEnter = this.enterLeaveCounter.enter(e.target);\n      if (!isFirstEnter || this.monitor.isDragging()) {\n        return;\n      }\n      var dataTransfer = e.dataTransfer;\n      var nativeType = (0, _NativeDragSources.matchNativeItemType)(dataTransfer);\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        this.beginDragNativeItem(nativeType);\n      }\n    }\n  }, {\n    key: 'handleDragEnter',\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: 'handleTopDragEnter',\n    value: function handleTopDragEnter(e) {\n      var _this6 = this;\n      var dragEnterTargetIds = this.dragEnterTargetIds;\n      this.dragEnterTargetIds = [];\n      if (!this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n      this.altKeyPressed = e.altKey;\n      if (!(0, _BrowserDetector.isFirefox)()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        this.actions.hover(dragEnterTargetIds, {\n          clientOffset: (0, _OffsetUtils.getEventClientOffset)(e)\n        });\n      }\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this6.monitor.canDropOnTarget(targetId);\n      });\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n        e.dataTransfer.dropEffect = this.getCurrentDropEffect();\n      }\n    }\n  }, {\n    key: 'handleTopDragOverCapture',\n    value: function handleTopDragOverCapture() {\n      this.dragOverTargetIds = [];\n    }\n  }, {\n    key: 'handleDragOver',\n    value: function handleDragOver(e, targetId) {\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: 'handleTopDragOver',\n    value: function handleTopDragOver(e) {\n      var _this7 = this;\n      var dragOverTargetIds = this.dragOverTargetIds;\n      this.dragOverTargetIds = [];\n      if (!this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'none';\n        return;\n      }\n      this.altKeyPressed = e.altKey;\n      this.actions.hover(dragOverTargetIds, {\n        clientOffset: (0, _OffsetUtils.getEventClientOffset)(e)\n      });\n      var canDrop = dragOverTargetIds.some(function (targetId) {\n        return _this7.monitor.canDropOnTarget(targetId);\n      });\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n        e.dataTransfer.dropEffect = this.getCurrentDropEffect();\n      } else if (this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'none';\n      } else if (this.checkIfCurrentDragSourceRectChanged()) {\n        // Prevent animating to incorrect position.\n        // Drop effect must be other than 'none' to prevent animation.\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'move';\n      }\n    }\n  }, {\n    key: 'handleTopDragLeaveCapture',\n    value: function handleTopDragLeaveCapture(e) {\n      if (this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n      var isLastLeave = this.enterLeaveCounter.leave(e.target);\n      if (!isLastLeave) {\n        return;\n      }\n      if (this.isDraggingNativeItem()) {\n        this.endDragNativeItem();\n      }\n    }\n  }, {\n    key: 'handleTopDropCapture',\n    value: function handleTopDropCapture(e) {\n      this.dropTargetIds = [];\n      e.preventDefault();\n      if (this.isDraggingNativeItem()) {\n        this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);\n      }\n      this.enterLeaveCounter.reset();\n    }\n  }, {\n    key: 'handleDrop',\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: 'handleTopDrop',\n    value: function handleTopDrop(e) {\n      var dropTargetIds = this.dropTargetIds;\n      this.dropTargetIds = [];\n      this.actions.hover(dropTargetIds, {\n        clientOffset: (0, _OffsetUtils.getEventClientOffset)(e)\n      });\n      this.actions.drop({\n        dropEffect: this.getCurrentDropEffect()\n      });\n      if (this.isDraggingNativeItem()) {\n        this.endDragNativeItem();\n      } else {\n        this.endDragIfSourceWasRemovedFromDOM();\n      }\n    }\n  }, {\n    key: 'handleSelectStart',\n    value: function handleSelectStart(e) {\n      var target = e.target;\n\n      // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      }\n\n      // Inputs and textareas should be selectable\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      }\n\n      // For other targets, ask IE\n      // to enable drag and drop\n      e.preventDefault();\n      target.dragDrop();\n    }\n  }, {\n    key: 'window',\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n      return undefined;\n    }\n  }]);\n  return HTML5Backend;\n}();\nexports.default = HTML5Backend;","map":{"version":3,"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_defaults","require","_defaults2","_interopRequireDefault","_shallowEqual","_shallowEqual2","_EnterLeaveCounter","_EnterLeaveCounter2","_BrowserDetector","_OffsetUtils","_NativeDragSources","_NativeTypes","NativeTypes","_interopRequireWildcard","obj","__esModule","newObj","hasOwnProperty","call","default","_classCallCheck","instance","TypeError","HTML5Backend","manager","actions","getActions","monitor","getMonitor","registry","getRegistry","context","getContext","sourcePreviewNodes","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","enterLeaveCounter","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","currentDragSourceNodeOffset","currentDragSourceNodeOffsetChanged","altKeyPressed","mouseMoveTimeoutTimer","getSourceClientOffset","bind","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","handleSelectStart","endDragIfSourceWasRemovedFromDOM","endDragNativeItem","asyncEndDragNativeItem","isNodeInDocument","setup","window","undefined","__isReactDndBackendSetUp","Error","addEventListeners","teardown","removeEventListeners","clearCurrentDragSourceNode","asyncEndDragFrameId","cancelAnimationFrame","addEventListener","removeEventListener","connectDragPreview","sourceId","node","options","_this","connectDragSource","_this2","handleDragStart","e","setAttribute","connectDropTarget","targetId","_this3","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","getSourceId","dropEffect","getCurrentDropEffect","isDraggingNativeItem","getCurrentSourcePreviewNodeOptions","anchorX","anchorY","captureDraggingState","getNodeClientOffset","itemType","getItemType","keys","some","beginDragNativeItem","type","SourceType","createNativeDragSource","addSource","beginDrag","requestAnimationFrame","endDrag","removeSource","document","body","contains","setCurrentDragSourceNode","_this4","MOUSE_MOVE_TIMEOUT","setTimeout","mouseMoveTimeoutId","clearTimeout","checkIfCurrentDragSourceRectChanged","unshift","_this5","clientOffset","getEventClientOffset","isDragging","publishSource","dataTransfer","nativeType","matchNativeItemType","setDragImage","sourceNode","dragPreview","_getCurrentSourcePrev","offsetX","offsetY","anchorPoint","offsetPoint","dragPreviewOffset","getDragPreviewOffset","x","y","setData","err","_getCurrentSourcePrev2","publishDragSource","types","hasAttribute","preventDefault","isFirstEnter","enter","_this6","altKey","isFirefox","hover","canDrop","canDropOnTarget","dragOverTargetIds","_this7","isLastLeave","leave","mutateItemByReadingDataTransfer","reset","drop","dragDrop","tagName","isContentEditable","get"],"sources":["C:/Users/osqel/OneDrive/Desktop/New folder/node_modules/react-dnd-html5-backend/lib/HTML5Backend.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable no-underscore-dangle */\n\n\nvar _defaults = require('lodash/defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _shallowEqual = require('./shallowEqual');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nvar _EnterLeaveCounter = require('./EnterLeaveCounter');\n\nvar _EnterLeaveCounter2 = _interopRequireDefault(_EnterLeaveCounter);\n\nvar _BrowserDetector = require('./BrowserDetector');\n\nvar _OffsetUtils = require('./OffsetUtils');\n\nvar _NativeDragSources = require('./NativeDragSources');\n\nvar _NativeTypes = require('./NativeTypes');\n\nvar NativeTypes = _interopRequireWildcard(_NativeTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HTML5Backend = function () {\n\tfunction HTML5Backend(manager) {\n\t\t_classCallCheck(this, HTML5Backend);\n\n\t\tthis.actions = manager.getActions();\n\t\tthis.monitor = manager.getMonitor();\n\t\tthis.registry = manager.getRegistry();\n\t\tthis.context = manager.getContext();\n\n\t\tthis.sourcePreviewNodes = {};\n\t\tthis.sourcePreviewNodeOptions = {};\n\t\tthis.sourceNodes = {};\n\t\tthis.sourceNodeOptions = {};\n\t\tthis.enterLeaveCounter = new _EnterLeaveCounter2.default();\n\n\t\tthis.dragStartSourceIds = [];\n\t\tthis.dropTargetIds = [];\n\t\tthis.dragEnterTargetIds = [];\n\t\tthis.currentNativeSource = null;\n\t\tthis.currentNativeHandle = null;\n\t\tthis.currentDragSourceNode = null;\n\t\tthis.currentDragSourceNodeOffset = null;\n\t\tthis.currentDragSourceNodeOffsetChanged = false;\n\t\tthis.altKeyPressed = false;\n\t\tthis.mouseMoveTimeoutTimer = null;\n\n\t\tthis.getSourceClientOffset = this.getSourceClientOffset.bind(this);\n\t\tthis.handleTopDragStart = this.handleTopDragStart.bind(this);\n\t\tthis.handleTopDragStartCapture = this.handleTopDragStartCapture.bind(this);\n\t\tthis.handleTopDragEndCapture = this.handleTopDragEndCapture.bind(this);\n\t\tthis.handleTopDragEnter = this.handleTopDragEnter.bind(this);\n\t\tthis.handleTopDragEnterCapture = this.handleTopDragEnterCapture.bind(this);\n\t\tthis.handleTopDragLeaveCapture = this.handleTopDragLeaveCapture.bind(this);\n\t\tthis.handleTopDragOver = this.handleTopDragOver.bind(this);\n\t\tthis.handleTopDragOverCapture = this.handleTopDragOverCapture.bind(this);\n\t\tthis.handleTopDrop = this.handleTopDrop.bind(this);\n\t\tthis.handleTopDropCapture = this.handleTopDropCapture.bind(this);\n\t\tthis.handleSelectStart = this.handleSelectStart.bind(this);\n\t\tthis.endDragIfSourceWasRemovedFromDOM = this.endDragIfSourceWasRemovedFromDOM.bind(this);\n\t\tthis.endDragNativeItem = this.endDragNativeItem.bind(this);\n\t\tthis.asyncEndDragNativeItem = this.asyncEndDragNativeItem.bind(this);\n\t\tthis.isNodeInDocument = this.isNodeInDocument.bind(this);\n\t}\n\n\t_createClass(HTML5Backend, [{\n\t\tkey: 'setup',\n\t\tvalue: function setup() {\n\t\t\tif (this.window === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.window.__isReactDndBackendSetUp) {\n\t\t\t\tthrow new Error('Cannot have two HTML5 backends at the same time.');\n\t\t\t}\n\t\t\tthis.window.__isReactDndBackendSetUp = true;\n\t\t\tthis.addEventListeners(this.window);\n\t\t}\n\t}, {\n\t\tkey: 'teardown',\n\t\tvalue: function teardown() {\n\t\t\tif (this.window === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.window.__isReactDndBackendSetUp = false;\n\t\t\tthis.removeEventListeners(this.window);\n\t\t\tthis.clearCurrentDragSourceNode();\n\t\t\tif (this.asyncEndDragFrameId) {\n\t\t\t\tthis.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'addEventListeners',\n\t\tvalue: function addEventListeners(target) {\n\t\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\t\tif (!target.addEventListener) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttarget.addEventListener('dragstart', this.handleTopDragStart);\n\t\t\ttarget.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n\t\t\ttarget.addEventListener('dragend', this.handleTopDragEndCapture, true);\n\t\t\ttarget.addEventListener('dragenter', this.handleTopDragEnter);\n\t\t\ttarget.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n\t\t\ttarget.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n\t\t\ttarget.addEventListener('dragover', this.handleTopDragOver);\n\t\t\ttarget.addEventListener('dragover', this.handleTopDragOverCapture, true);\n\t\t\ttarget.addEventListener('drop', this.handleTopDrop);\n\t\t\ttarget.addEventListener('drop', this.handleTopDropCapture, true);\n\t\t}\n\t}, {\n\t\tkey: 'removeEventListeners',\n\t\tvalue: function removeEventListeners(target) {\n\t\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\t\tif (!target.removeEventListener) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttarget.removeEventListener('dragstart', this.handleTopDragStart);\n\t\t\ttarget.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n\t\t\ttarget.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n\t\t\ttarget.removeEventListener('dragenter', this.handleTopDragEnter);\n\t\t\ttarget.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n\t\t\ttarget.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n\t\t\ttarget.removeEventListener('dragover', this.handleTopDragOver);\n\t\t\ttarget.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n\t\t\ttarget.removeEventListener('drop', this.handleTopDrop);\n\t\t\ttarget.removeEventListener('drop', this.handleTopDropCapture, true);\n\t\t}\n\t}, {\n\t\tkey: 'connectDragPreview',\n\t\tvalue: function connectDragPreview(sourceId, node, options) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.sourcePreviewNodeOptions[sourceId] = options;\n\t\t\tthis.sourcePreviewNodes[sourceId] = node;\n\n\t\t\treturn function () {\n\t\t\t\tdelete _this.sourcePreviewNodes[sourceId];\n\t\t\t\tdelete _this.sourcePreviewNodeOptions[sourceId];\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: 'connectDragSource',\n\t\tvalue: function connectDragSource(sourceId, node, options) {\n\t\t\tvar _this2 = this;\n\n\t\t\tthis.sourceNodes[sourceId] = node;\n\t\t\tthis.sourceNodeOptions[sourceId] = options;\n\n\t\t\tvar handleDragStart = function handleDragStart(e) {\n\t\t\t\treturn _this2.handleDragStart(e, sourceId);\n\t\t\t};\n\t\t\tvar handleSelectStart = function handleSelectStart(e) {\n\t\t\t\treturn _this2.handleSelectStart(e, sourceId);\n\t\t\t};\n\n\t\t\tnode.setAttribute('draggable', true);\n\t\t\tnode.addEventListener('dragstart', handleDragStart);\n\t\t\tnode.addEventListener('selectstart', handleSelectStart);\n\n\t\t\treturn function () {\n\t\t\t\tdelete _this2.sourceNodes[sourceId];\n\t\t\t\tdelete _this2.sourceNodeOptions[sourceId];\n\n\t\t\t\tnode.removeEventListener('dragstart', handleDragStart);\n\t\t\t\tnode.removeEventListener('selectstart', handleSelectStart);\n\t\t\t\tnode.setAttribute('draggable', false);\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: 'connectDropTarget',\n\t\tvalue: function connectDropTarget(targetId, node) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar handleDragEnter = function handleDragEnter(e) {\n\t\t\t\treturn _this3.handleDragEnter(e, targetId);\n\t\t\t};\n\t\t\tvar handleDragOver = function handleDragOver(e) {\n\t\t\t\treturn _this3.handleDragOver(e, targetId);\n\t\t\t};\n\t\t\tvar handleDrop = function handleDrop(e) {\n\t\t\t\treturn _this3.handleDrop(e, targetId);\n\t\t\t};\n\n\t\t\tnode.addEventListener('dragenter', handleDragEnter);\n\t\t\tnode.addEventListener('dragover', handleDragOver);\n\t\t\tnode.addEventListener('drop', handleDrop);\n\n\t\t\treturn function () {\n\t\t\t\tnode.removeEventListener('dragenter', handleDragEnter);\n\t\t\t\tnode.removeEventListener('dragover', handleDragOver);\n\t\t\t\tnode.removeEventListener('drop', handleDrop);\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentSourceNodeOptions',\n\t\tvalue: function getCurrentSourceNodeOptions() {\n\t\t\tvar sourceId = this.monitor.getSourceId();\n\t\t\tvar sourceNodeOptions = this.sourceNodeOptions[sourceId];\n\n\t\t\treturn (0, _defaults2.default)(sourceNodeOptions || {}, {\n\t\t\t\tdropEffect: this.altKeyPressed ? 'copy' : 'move'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentDropEffect',\n\t\tvalue: function getCurrentDropEffect() {\n\t\t\tif (this.isDraggingNativeItem()) {\n\t\t\t\t// It makes more sense to default to 'copy' for native resources\n\t\t\t\treturn 'copy';\n\t\t\t}\n\n\t\t\treturn this.getCurrentSourceNodeOptions().dropEffect;\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentSourcePreviewNodeOptions',\n\t\tvalue: function getCurrentSourcePreviewNodeOptions() {\n\t\t\tvar sourceId = this.monitor.getSourceId();\n\t\t\tvar sourcePreviewNodeOptions = this.sourcePreviewNodeOptions[sourceId];\n\n\t\t\treturn (0, _defaults2.default)(sourcePreviewNodeOptions || {}, {\n\t\t\t\tanchorX: 0.5,\n\t\t\t\tanchorY: 0.5,\n\t\t\t\tcaptureDraggingState: false\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'getSourceClientOffset',\n\t\tvalue: function getSourceClientOffset(sourceId) {\n\t\t\treturn (0, _OffsetUtils.getNodeClientOffset)(this.sourceNodes[sourceId]);\n\t\t}\n\t}, {\n\t\tkey: 'isDraggingNativeItem',\n\t\tvalue: function isDraggingNativeItem() {\n\t\t\tvar itemType = this.monitor.getItemType();\n\t\t\treturn Object.keys(NativeTypes).some(function (key) {\n\t\t\t\treturn NativeTypes[key] === itemType;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'beginDragNativeItem',\n\t\tvalue: function beginDragNativeItem(type) {\n\t\t\tthis.clearCurrentDragSourceNode();\n\n\t\t\tvar SourceType = (0, _NativeDragSources.createNativeDragSource)(type);\n\t\t\tthis.currentNativeSource = new SourceType();\n\t\t\tthis.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n\t\t\tthis.actions.beginDrag([this.currentNativeHandle]);\n\t\t}\n\t}, {\n\t\tkey: 'asyncEndDragNativeItem',\n\t\tvalue: function asyncEndDragNativeItem() {\n\t\t\tthis.asyncEndDragFrameId = this.window.requestAnimationFrame(this.endDragNativeItem);\n\t\t}\n\t}, {\n\t\tkey: 'endDragNativeItem',\n\t\tvalue: function endDragNativeItem() {\n\t\t\tif (!this.isDraggingNativeItem()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.actions.endDrag();\n\t\t\tthis.registry.removeSource(this.currentNativeHandle);\n\t\t\tthis.currentNativeHandle = null;\n\t\t\tthis.currentNativeSource = null;\n\t\t}\n\t}, {\n\t\tkey: 'isNodeInDocument',\n\t\tvalue: function isNodeInDocument(node) {\n\t\t\t// Check the node either in the main document or in the current context\n\t\t\treturn document.body.contains(node) || this.window ? this.window.document.body.contains(node) : false;\n\t\t}\n\t}, {\n\t\tkey: 'endDragIfSourceWasRemovedFromDOM',\n\t\tvalue: function endDragIfSourceWasRemovedFromDOM() {\n\t\t\tvar node = this.currentDragSourceNode;\n\t\t\tif (this.isNodeInDocument(node)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.clearCurrentDragSourceNode()) {\n\t\t\t\tthis.actions.endDrag();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentDragSourceNode',\n\t\tvalue: function setCurrentDragSourceNode(node) {\n\t\t\tvar _this4 = this;\n\n\t\t\tthis.clearCurrentDragSourceNode();\n\t\t\tthis.currentDragSourceNode = node;\n\t\t\tthis.currentDragSourceNodeOffset = (0, _OffsetUtils.getNodeClientOffset)(node);\n\t\t\tthis.currentDragSourceNodeOffsetChanged = false;\n\n\t\t\t// A timeout of > 0 is necessary to resolve Firefox issue referenced\n\t\t\t// See:\n\t\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t\tvar MOUSE_MOVE_TIMEOUT = 1000;\n\n\t\t\t// Receiving a mouse event in the middle of a dragging operation\n\t\t\t// means it has ended and the drag source node disappeared from DOM,\n\t\t\t// so the browser didn't dispatch the dragend event.\n\t\t\t//\n\t\t\t// We need to wait before we start listening for mousemove events.\n\t\t\t// This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n\t\t\t// immediately in some browsers.\n\t\t\t//\n\t\t\t// See:\n\t\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t\t//\n\t\t\tthis.mouseMoveTimeoutTimer = setTimeout(function () {\n\t\t\t\t_this4.mouseMoveTimeoutId = null;\n\t\t\t\treturn _this4.window.addEventListener('mousemove', _this4.endDragIfSourceWasRemovedFromDOM, true);\n\t\t\t}, MOUSE_MOVE_TIMEOUT);\n\t\t}\n\t}, {\n\t\tkey: 'clearCurrentDragSourceNode',\n\t\tvalue: function clearCurrentDragSourceNode() {\n\t\t\tif (this.currentDragSourceNode) {\n\t\t\t\tthis.currentDragSourceNode = null;\n\t\t\t\tthis.currentDragSourceNodeOffset = null;\n\t\t\t\tthis.currentDragSourceNodeOffsetChanged = false;\n\t\t\t\tthis.window.clearTimeout(this.mouseMoveTimeoutTimer);\n\t\t\t\tthis.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n\t\t\t\tthis.mouseMoveTimeoutTimer = null;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'checkIfCurrentDragSourceRectChanged',\n\t\tvalue: function checkIfCurrentDragSourceRectChanged() {\n\t\t\tvar node = this.currentDragSourceNode;\n\t\t\tif (!node) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.currentDragSourceNodeOffsetChanged) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tthis.currentDragSourceNodeOffsetChanged = !(0, _shallowEqual2.default)((0, _OffsetUtils.getNodeClientOffset)(node), this.currentDragSourceNodeOffset);\n\n\t\t\treturn this.currentDragSourceNodeOffsetChanged;\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragStartCapture',\n\t\tvalue: function handleTopDragStartCapture() {\n\t\t\tthis.clearCurrentDragSourceNode();\n\t\t\tthis.dragStartSourceIds = [];\n\t\t}\n\t}, {\n\t\tkey: 'handleDragStart',\n\t\tvalue: function handleDragStart(e, sourceId) {\n\t\t\tthis.dragStartSourceIds.unshift(sourceId);\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragStart',\n\t\tvalue: function handleTopDragStart(e) {\n\t\t\tvar _this5 = this;\n\n\t\t\tvar dragStartSourceIds = this.dragStartSourceIds;\n\n\t\t\tthis.dragStartSourceIds = null;\n\n\t\t\tvar clientOffset = (0, _OffsetUtils.getEventClientOffset)(e);\n\n\t\t\t// Avoid crashing if we missed a drop event or our previous drag died\n\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\tthis.actions.endDrag();\n\t\t\t}\n\n\t\t\t// Don't publish the source just yet (see why below)\n\t\t\tthis.actions.beginDrag(dragStartSourceIds, {\n\t\t\t\tpublishSource: false,\n\t\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\t\tclientOffset: clientOffset\n\t\t\t});\n\n\t\t\tvar dataTransfer = e.dataTransfer;\n\n\t\t\tvar nativeType = (0, _NativeDragSources.matchNativeItemType)(dataTransfer);\n\n\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\tif (typeof dataTransfer.setDragImage === 'function') {\n\t\t\t\t\t// Use custom drag image if user specifies it.\n\t\t\t\t\t// If child drag source refuses drag but parent agrees,\n\t\t\t\t\t// use parent's node as drag image. Neither works in IE though.\n\t\t\t\t\tvar sourceId = this.monitor.getSourceId();\n\t\t\t\t\tvar sourceNode = this.sourceNodes[sourceId];\n\t\t\t\t\tvar dragPreview = this.sourcePreviewNodes[sourceId] || sourceNode;\n\n\t\t\t\t\tvar _getCurrentSourcePrev = this.getCurrentSourcePreviewNodeOptions(),\n\t\t\t\t\t    anchorX = _getCurrentSourcePrev.anchorX,\n\t\t\t\t\t    anchorY = _getCurrentSourcePrev.anchorY,\n\t\t\t\t\t    offsetX = _getCurrentSourcePrev.offsetX,\n\t\t\t\t\t    offsetY = _getCurrentSourcePrev.offsetY;\n\n\t\t\t\t\tvar anchorPoint = { anchorX: anchorX, anchorY: anchorY };\n\t\t\t\t\tvar offsetPoint = { offsetX: offsetX, offsetY: offsetY };\n\t\t\t\t\tvar dragPreviewOffset = (0, _OffsetUtils.getDragPreviewOffset)(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n\n\t\t\t\t\tdataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\t// Firefox won't drag without setting data\n\t\t\t\t\tdataTransfer.setData('application/json', {});\n\t\t\t\t} catch (err) {}\n\t\t\t\t// IE doesn't support MIME types in setData\n\n\n\t\t\t\t// Store drag source node so we can check whether\n\t\t\t\t// it is removed from DOM and trigger endDrag manually.\n\t\t\t\tthis.setCurrentDragSourceNode(e.target);\n\n\t\t\t\t// Now we are ready to publish the drag source.. or are we not?\n\n\t\t\t\tvar _getCurrentSourcePrev2 = this.getCurrentSourcePreviewNodeOptions(),\n\t\t\t\t    captureDraggingState = _getCurrentSourcePrev2.captureDraggingState;\n\n\t\t\t\tif (!captureDraggingState) {\n\t\t\t\t\t// Usually we want to publish it in the next tick so that browser\n\t\t\t\t\t// is able to screenshot the current (not yet dragging) state.\n\t\t\t\t\t//\n\t\t\t\t\t// It also neatly avoids a situation where render() returns null\n\t\t\t\t\t// in the same tick for the source element, and browser freaks out.\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\treturn _this5.actions.publishDragSource();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// In some cases the user may want to override this behavior, e.g.\n\t\t\t\t\t// to work around IE not supporting custom drag previews.\n\t\t\t\t\t//\n\t\t\t\t\t// When using a custom drag layer, the only way to prevent\n\t\t\t\t\t// the default drag preview from drawing in IE is to screenshot\n\t\t\t\t\t// the dragging state in which the node itself has zero opacity\n\t\t\t\t\t// and height. In this case, though, returning null from render()\n\t\t\t\t\t// will abruptly end the dragging, which is not obvious.\n\t\t\t\t\t//\n\t\t\t\t\t// This is the reason such behavior is strictly opt-in.\n\t\t\t\t\tthis.actions.publishDragSource();\n\t\t\t\t}\n\t\t\t} else if (nativeType) {\n\t\t\t\t// A native item (such as URL) dragged from inside the document\n\t\t\t\tthis.beginDragNativeItem(nativeType);\n\t\t\t} else if (!dataTransfer.types && (!e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n\t\t\t\t// Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n\t\t\t\t// Just let it drag. It's a native type (URL or text) and will be picked up in\n\t\t\t\t// dragenter handler.\n\t\t\t\treturn; // eslint-disable-line no-useless-return\n\t\t\t} else {\n\t\t\t\t// If by this time no drag source reacted, tell browser not to drag.\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragEndCapture',\n\t\tvalue: function handleTopDragEndCapture() {\n\t\t\tif (this.clearCurrentDragSourceNode()) {\n\t\t\t\t// Firefox can dispatch this event in an infinite loop\n\t\t\t\t// if dragend handler does something like showing an alert.\n\t\t\t\t// Only proceed if we have not handled it already.\n\t\t\t\tthis.actions.endDrag();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragEnterCapture',\n\t\tvalue: function handleTopDragEnterCapture(e) {\n\t\t\tthis.dragEnterTargetIds = [];\n\n\t\t\tvar isFirstEnter = this.enterLeaveCounter.enter(e.target);\n\t\t\tif (!isFirstEnter || this.monitor.isDragging()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar dataTransfer = e.dataTransfer;\n\n\t\t\tvar nativeType = (0, _NativeDragSources.matchNativeItemType)(dataTransfer);\n\n\t\t\tif (nativeType) {\n\t\t\t\t// A native item (such as file or URL) dragged from outside the document\n\t\t\t\tthis.beginDragNativeItem(nativeType);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'handleDragEnter',\n\t\tvalue: function handleDragEnter(e, targetId) {\n\t\t\tthis.dragEnterTargetIds.unshift(targetId);\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragEnter',\n\t\tvalue: function handleTopDragEnter(e) {\n\t\t\tvar _this6 = this;\n\n\t\t\tvar dragEnterTargetIds = this.dragEnterTargetIds;\n\n\t\t\tthis.dragEnterTargetIds = [];\n\n\t\t\tif (!this.monitor.isDragging()) {\n\t\t\t\t// This is probably a native item type we don't understand.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.altKeyPressed = e.altKey;\n\n\t\t\tif (!(0, _BrowserDetector.isFirefox)()) {\n\t\t\t\t// Don't emit hover in `dragenter` on Firefox due to an edge case.\n\t\t\t\t// If the target changes position as the result of `dragenter`, Firefox\n\t\t\t\t// will still happily dispatch `dragover` despite target being no longer\n\t\t\t\t// there. The easy solution is to only fire `hover` in `dragover` on FF.\n\t\t\t\tthis.actions.hover(dragEnterTargetIds, {\n\t\t\t\t\tclientOffset: (0, _OffsetUtils.getEventClientOffset)(e)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar canDrop = dragEnterTargetIds.some(function (targetId) {\n\t\t\t\treturn _this6.monitor.canDropOnTarget(targetId);\n\t\t\t});\n\n\t\t\tif (canDrop) {\n\t\t\t\t// IE requires this to fire dragover events\n\t\t\t\te.preventDefault();\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragOverCapture',\n\t\tvalue: function handleTopDragOverCapture() {\n\t\t\tthis.dragOverTargetIds = [];\n\t\t}\n\t}, {\n\t\tkey: 'handleDragOver',\n\t\tvalue: function handleDragOver(e, targetId) {\n\t\t\tthis.dragOverTargetIds.unshift(targetId);\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragOver',\n\t\tvalue: function handleTopDragOver(e) {\n\t\t\tvar _this7 = this;\n\n\t\t\tvar dragOverTargetIds = this.dragOverTargetIds;\n\n\t\t\tthis.dragOverTargetIds = [];\n\n\t\t\tif (!this.monitor.isDragging()) {\n\t\t\t\t// This is probably a native item type we don't understand.\n\t\t\t\t// Prevent default \"drop and blow away the whole document\" action.\n\t\t\t\te.preventDefault();\n\t\t\t\te.dataTransfer.dropEffect = 'none';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.altKeyPressed = e.altKey;\n\n\t\t\tthis.actions.hover(dragOverTargetIds, {\n\t\t\t\tclientOffset: (0, _OffsetUtils.getEventClientOffset)(e)\n\t\t\t});\n\n\t\t\tvar canDrop = dragOverTargetIds.some(function (targetId) {\n\t\t\t\treturn _this7.monitor.canDropOnTarget(targetId);\n\t\t\t});\n\n\t\t\tif (canDrop) {\n\t\t\t\t// Show user-specified drop effect.\n\t\t\t\te.preventDefault();\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect();\n\t\t\t} else if (this.isDraggingNativeItem()) {\n\t\t\t\t// Don't show a nice cursor but still prevent default\n\t\t\t\t// \"drop and blow away the whole document\" action.\n\t\t\t\te.preventDefault();\n\t\t\t\te.dataTransfer.dropEffect = 'none';\n\t\t\t} else if (this.checkIfCurrentDragSourceRectChanged()) {\n\t\t\t\t// Prevent animating to incorrect position.\n\t\t\t\t// Drop effect must be other than 'none' to prevent animation.\n\t\t\t\te.preventDefault();\n\t\t\t\te.dataTransfer.dropEffect = 'move';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDragLeaveCapture',\n\t\tvalue: function handleTopDragLeaveCapture(e) {\n\t\t\tif (this.isDraggingNativeItem()) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tvar isLastLeave = this.enterLeaveCounter.leave(e.target);\n\t\t\tif (!isLastLeave) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.isDraggingNativeItem()) {\n\t\t\t\tthis.endDragNativeItem();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDropCapture',\n\t\tvalue: function handleTopDropCapture(e) {\n\t\t\tthis.dropTargetIds = [];\n\t\t\te.preventDefault();\n\n\t\t\tif (this.isDraggingNativeItem()) {\n\t\t\t\tthis.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);\n\t\t\t}\n\n\t\t\tthis.enterLeaveCounter.reset();\n\t\t}\n\t}, {\n\t\tkey: 'handleDrop',\n\t\tvalue: function handleDrop(e, targetId) {\n\t\t\tthis.dropTargetIds.unshift(targetId);\n\t\t}\n\t}, {\n\t\tkey: 'handleTopDrop',\n\t\tvalue: function handleTopDrop(e) {\n\t\t\tvar dropTargetIds = this.dropTargetIds;\n\n\t\t\tthis.dropTargetIds = [];\n\n\t\t\tthis.actions.hover(dropTargetIds, {\n\t\t\t\tclientOffset: (0, _OffsetUtils.getEventClientOffset)(e)\n\t\t\t});\n\t\t\tthis.actions.drop({ dropEffect: this.getCurrentDropEffect() });\n\n\t\t\tif (this.isDraggingNativeItem()) {\n\t\t\t\tthis.endDragNativeItem();\n\t\t\t} else {\n\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'handleSelectStart',\n\t\tvalue: function handleSelectStart(e) {\n\t\t\tvar target = e.target;\n\n\t\t\t// Only IE requires us to explicitly say\n\t\t\t// we want drag drop operation to start\n\n\t\t\tif (typeof target.dragDrop !== 'function') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Inputs and textareas should be selectable\n\t\t\tif (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For other targets, ask IE\n\t\t\t// to enable drag and drop\n\t\t\te.preventDefault();\n\t\t\ttarget.dragDrop();\n\t\t}\n\t}, {\n\t\tkey: 'window',\n\t\tget: function get() {\n\t\t\tif (this.context && this.context.window) {\n\t\t\t\treturn this.context.window;\n\t\t\t} else if (typeof window !== 'undefined') {\n\t\t\t\treturn window;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t}]);\n\n\treturn HTML5Backend;\n}();\n\nexports.default = HTML5Backend;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}